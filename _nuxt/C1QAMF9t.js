import{dL as t,ap as e,dM as s,f as r,v as i,y as o,ak as n,r as a,g as l,m as c,n as h,c as p,o as u,a as d,B as f,a5 as g,bR as y,t as v,_ as m}from"./BMSK5C5y.js";const x={install(s){t._context=s._context,e._context=s._context,s.directive("loading",e),s.config.globalProperties.$loading=t},directive:e,service:t};var b,C={exports:{}};const k=s((b||(b=1,window,C.exports=function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++)for(var i in e=arguments[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]])}return s},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<s;e++)for(var o=arguments[e],n=0,a=o.length;n<a;n++,i++)r[i]=o[n];return r};Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=Math.PI,l=function(){function t(t){var e=this,s=t.size,i=t.el,o=t.textStyle,a=void 0===o?{}:o,l=t.arcStart,c=void 0===l?144:l,h=t.arcEnd,p=void 0===h?396:h,u=t.progress,d=t.text,f=t.thickness,g=t.fillThickness,y=void 0===g?0:g,v=t.emptyColor,m=t.fillColor,x=t.lineCap,b=t.animation,C=t.speed,k=void 0===C?0:C,S=t.customText,P=t.animationEnd,w=void 0===P?function(){}:P,O=t.onError,z=void 0===O?function(){}:O,E=t.observer;this.percentage=0,this.speed=1,this.speedOption=0,this.type="increase",this.isEnd=!1,this.emptyColor="#efefef",this.fillColor="#6bd5c8",this.lineCap="round",this.increaseValue=0,this.frequency=0,this.lastNumber=0,this.prevProgress=0,this.prevText="0",this.textValue=0,this.drawProgressAnimate=function(){!1===e.animation&&(e.percentage=e.progress),e.isEnd=e.percentage===e.progress,e.ctx.clearRect(0,0,e.size,e.size),e.drawBackground(),e.drawText(),e.drawProgress(),e.isEnd||("increase"===e.type||"decrease"===e.type)&&(e.accumulation(),e.requestAnimationFrame(e.drawProgressAnimate))},this.resetOptions=function(t){var s=t.progress,i=t.thickness,o=t.textStyle,n=t.size,a=t.speed;if("number"==typeof s){var l=100*s;e.type=l>e.progress?"increase":"decrease",e.progress=l,e.optionProgress=s}i&&(e.thickness=2*i),o&&(e.textStyle=r(r({},e.textStyle),o)),n&&(e.size=2*n),"number"==typeof a&&(e.speedOption=a)},this.size=2*(s||200),this.arcStart=c,this.arcEnd=p,this.optionProgress=u,this.progress=100*u,this.text=d,this.el=i,this.thickness=2*(f||12),this.fillThickness=2*y||this.thickness,this.animationEnd=w,this.onError=z,this.emptyColor=v,this.fillColor=m||this.fillColor,this.lineCap=x||this.lineCap,this.animation=b,this.textStyle=r({size:"18px",color:"#000",x:this.size/4,y:this.size/4},a),this.customText=S||[],this.observer=E,this.speedOption=k;var T="object"===n.type(this.fillColor)&&!!this.fillColor.image;this.init({updateImg:T})}return Object.defineProperty(t.prototype,"isEmptyProgressBig",{get:function(){return this.thickness>=this.fillThickness},enumerable:!0,configurable:!0}),t.prototype.init=function(t){var e=this,s=t||{},r=s.notCreate,i=s.updateImg;this.createCanvas(r),this.setSpeed(),this.text&&this.setIncreaseValue(),this.sourceLoad(i).then((function(){return e.drawProgressAnimate()})).catch((function(t){return e.onError(t)}))},t.prototype.createCanvas=function(t){var e="string"==typeof this.el?document.querySelector(this.el):this.el;t||(this.canvas=document.createElement("canvas"));var s=this.size/2;e.style.width=s+"px",e.style.height=s+"px",this.canvas.width=this.size,this.canvas.height=this.size,this.canvas.style.width=s+"px",this.canvas.style.height=s+"px",this.canvas.style.width="block",t||(e.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"))},t.prototype.drawBackground=function(){var t=this.ctx,e=this.size/2,s=this.arcStart/180*a,r=this.arcEnd/180*a;t.beginPath(),t.lineWidth=this.thickness,t.lineCap=this.lineCap,t.strokeStyle=this.emptyColor;var i=this.isEmptyProgressBig?e-this.thickness:e-this.thickness-(this.fillThickness-this.thickness);t.arc(e,e,i,s,r,!1),t.stroke(),t.closePath()},t.prototype.computedArc=function(){var t=this.arcStart/180,e=(this.arcEnd/180-t)*(this.percentage/100)+t;return{start:t*a,end:e*a}},t.prototype.setSpeed=function(){var t=this.speedOption,e=this.animation,s=this.progress,r=this.prevProgress,i=s>r?s-r:r-s;e&&"number"==typeof e?this.speed=i/(e/(1e3/60)):"number"==typeof t&&(this.speed=1,this.speed+=t>0?t/40:t/101),this.frequency=i/this.speed},t.prototype.setIncreaseValue=function(){var t=Number(this.text),e=Number(this.prevText),s=(t>e?t-e:e-t)/this.frequency;!n.isInt(this.text)||s%2&&s%5||(s=s-1>0?s-=1:1),this.increaseValue=s},t.prototype.computedText=function(){var t=this.lastNumber,e=n.isInt(this.text);if("increase"===this.type?this.textValue+=this.increaseValue:this.textValue-=this.increaseValue,this.isEnd)return this.text;if(!e){var s=this.text.split(".")[1].length;return this.lastNumber=9===t?0:t+1,s>1?this.textValue.toFixed(s-1)+this.lastNumber:this.textValue.toFixed(0)+"."+this.lastNumber}return String(Math.floor(this.textValue))},t.prototype.sourceLoad=function(t){var e=this;return new Promise((function(s,r){if("object"===n.type(e.fillColor)&&t){e.drawBackground();var i=e.fillColor.image,o=new Image;o.src=i,o.onload=function(){e.fillImage=o,s(!0)},o.onerror=function(t){r(t)}}else s(!1)}))},t.prototype.setFillColor=function(t){var e=n.type(this.fillColor);if("string"===e)t.strokeStyle=this.fillColor;else if("object"===e&&this.fillColor.image){var s=t.createPattern(this.fillImage,"no-repeat");t.strokeStyle=s}else{for(var r=this.fillColor.gradient,i=t.createLinearGradient(0,0,this.size,0),o=r.length,a=1/o,l=0,c=0;c<o;c++)i.addColorStop(l,r[c]),l+=a;t.strokeStyle=i}},t.prototype.drawProgress=function(){var t=this.ctx,e=this.size/2,s=this.computedArc(),r=s.start,i=s.end;t.beginPath(),t.lineWidth=this.fillThickness,t.lineCap=this.lineCap,this.setFillColor(t);var o=this.isEmptyProgressBig?e-this.fillThickness-(this.thickness-this.fillThickness):e-this.fillThickness;t.arc(e,e,o,r,i,!1),t.stroke(),t.closePath(),this.observer&&this.observer(this.percentage,this.currentText),this.isEnd&&this.animationEnd({progress:this.optionProgress,text:this.text})},t.prototype.setText=function(t,e){var s=e.text,r=e.size,i=void 0===r?"14px":r,o=e.color,n=void 0===o?"#000":o,a=e.x,l=void 0===a?10:a,c=e.y,h=void 0===c?10:c,p=e.font,u=void 0===p?"sans-seri":p,d=2*parseInt(i,10),f=i.substring(String(d).length)||"px";t.font=""+d+f+" "+u,t.fillStyle=n,t.textAlign="center",t.textBaseline="middle",t.fillText(s,2*l,2*h)},t.prototype.drawText=function(){var t=this.ctx,e=this.text&&this.computedText();this.currentText=e;var s=[];e&&s.push(r({text:e},this.textStyle)),s=o(s,this.customText);for(var i=0;i<s.length;i++)this.setText(t,s[i])},t.prototype.requestAnimationFrame=function(t){return window.requestAnimationFrame(t)},t.prototype.accumulation=function(){"increase"===this.type?(this.percentage+=this.speed,this.percentage>this.progress&&(this.percentage=this.progress)):(this.percentage-=this.speed,this.percentage<this.progress&&(this.percentage=this.progress))},t.prototype.updateProgress=function(t){var e=this;this.prevProgress=this.progress,this.prevText=this.text;var s=t.progress,r=t.thickness,o=t.textStyle,a=t.size,l=t.speed,c=i(t,["progress","thickness","textStyle","size","speed"]);if(this.isEnd&&this.prevProgress!==100*s){this.resetOptions({progress:s,thickness:r,textStyle:o,size:a,speed:l}),Object.keys(c||{}).forEach((function(t){return e[t]=c[t]}));var h="object"===n.type(c.fillColor)&&!c.fillColor.image;this.init({updateImg:h,notCreate:!0})}},t.prototype.destroy=function(){var t=this.canvas.parentNode;t&&t.removeChild(this.canvas)},t}();e.default=l},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.isInt=function(t){return void 0===t&&(t=""),1===t.split(".").length},e.type=function(t){return Object.prototype.toString.call(t).match(/[A-Z]\w+/)[0].toLowerCase()}}])),C.exports)),S=[];for(let T=0;T<256;++T)S.push((T+256).toString(16).slice(1));let P;const w=new Uint8Array(16);const O={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function z(t,e,s){var r;if(O.randomUUID&&!t)return O.randomUUID();const i=(t=t||{}).random??(null==(r=t.rng)?void 0:r.call(t))??function(){if(!P){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");P=crypto.getRandomValues.bind(crypto)}return P(w)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(t,e=0){return(S[t[e+0]]+S[t[e+1]]+S[t[e+2]]+S[t[e+3]]+"-"+S[t[e+4]]+S[t[e+5]]+"-"+S[t[e+6]]+S[t[e+7]]+"-"+S[t[e+8]]+S[t[e+9]]+"-"+S[t[e+10]]+S[t[e+11]]+S[t[e+12]]+S[t[e+13]]+S[t[e+14]]+S[t[e+15]]).toLowerCase()}(i)}const E=m(r({__name:"arcProgress",props:{progress:{type:Number,default:0},width:{type:Number,default:260},thickness:{type:Number,default:20},big:{type:Boolean,default:!0},height:{type:Number,default:60},textHeight:{type:Number,default:30},end:{type:Boolean,default:!1},fontSize:{type:String,default:"12px"},colorList:{type:Array,default:()=>["#ccc","#81c54e","#f8be46","#FF354C"]}},setup(t){const e=t,{t:s}=i(),r=o(),{isDark:m}=n(r),x="progress-container-"+z(),b=a(null),C=l((()=>Math.round(e.width/2))),S=t=>0===t?e.colorList[0]:t>0&&t<.4?e.colorList[1]:t>=.4&&t<.6?e.colorList[2]:e.colorList[3],P=l((()=>e.progress<.4?[e.colorList[1],s("seemsNoProblem")]:e.progress<.6?[e.colorList[2],s("possibleRisks")]:[e.colorList[3],s("highRisk")]));return c((()=>e.progress),(t=>{b.value&&b.value.updateProgress({progress:t,text:`${Math.round(100*t)}`,textStyle:e.big?{size:"40px",color:S(t),x:C.value,y:90,font:"Outfit-Medium"}:{size:e.fontSize||"12px",color:S(t),x:C.value,y:e.textHeight,font:"Outfit-Medium"},fillColor:S(t),emptyColor:e.colorList[0]})})),h((()=>{(()=>{const t=Math.round(100*e.progress);b.value=new k({el:`#${x}`,progress:e.progress,speed:5,value:t,animation:!1,text:`${t}`,textStyle:e.big?{size:"40px",color:S(e.progress),x:C.value,y:90,font:"Outfit-Medium"}:{size:e.fontSize||"12px",color:S(e.progress),x:C.value,y:e.textHeight,font:"Outfit-Medium"},arcStart:180,arcEnd:360,size:e.width,thickness:e.thickness,emptyColor:e.colorList[0],fillColor:S(e.progress),customText:e.big?[{text:s("riskAssessment"),size:"14px",color:"#aaa",x:C.value,y:120}]:[{text:s("riskAssessment"),size:"12px",color:m.value?"#566275":"#A9B0BC",x:C.value,y:70}],lineCap:"round"})})()})),(e,s)=>(u(),p("div",null,[d("div",{class:"progress-container",style:g({height:t.big?"140px !important":`${t.height}px !important`,"justify-content":t.end?"flex-end":"center"})},[d("div",{id:x})],4),t.progress>0&&t.big?(u(),p("div",{key:0,class:"checking-tips",style:g({color:P.value[0]})},[d("span",null,v(P.value[1]),1),y(e.$slots,"default",{},void 0,!0)],4)):f("",!0)]))}}),[["__scopeId","data-v-3895f697"]]);export{x as E,E as _,z as v};
