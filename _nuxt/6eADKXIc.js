import{f as e,l as a,ak as l,y as t,z as n,v as s,aE as o,U as r,I as i,r as c,N as d,c as p,o as u,O as x,b as m,ap as v,K as f,w as h,F as b,d as g,t as y,C as w,J as k,a as C,B as I,i as $,dO as _,bN as B,a0 as T,aR as N,G as R,s as A,E as j,D,Q as E,aW as M,dp as U,dq as S,a3 as W,bF as q,a1 as F,_ as O}from"./BMSK5C5y.js";import{E as V,a as z}from"./B3rSGlmP.js";import"./Deprqz-m.js";import"./ByCXp7NP.js";import{c as Q}from"./DI67NjSx.js";import G from"./nlLjokV7.js";import"./CujBmTjQ.js";const J={key:0,class:"table-empty"},K={key:1},H={key:1,class:"flex-start"},L=["src"],P={key:0,class:"border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px ml-10px line-height-15px"},X=["onMouseenter"],Y={key:0,class:"mr-5px"},Z={key:1,class:"bg-[--primary-color] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},ee={key:2,class:"bg-[--signal-green] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},ae=["onClick"],le={class:"font-500 text-12px"},te={key:2},ne={class:"flex-between"},se={class:"text-24px"},oe={class:"w-480px flex flex-col items-center justify-center mb-20px"},re={class:"text-14px color-[--secondary-text] mt-26px"},ie={class:"color-[--primary-color] mr-4px text-17px"},ce={class:"mt-26px color-[--main-text] text-14px block"},de={class:"px-10px py-10px text-14px"},pe={class:"color-[var(--third-text)] text-left text-12px"},ue={class:"color-[var(--main-text)] text-left pl-5px"},xe={key:1},me={class:"color-[var(--third-text)] text-left text-12px"},ve={class:"color-[var(--main-text)] text-left pl-5px"},fe={class:"color-[var(--main-text)] text-left pl-5px"},he={class:"color-[var(--main-text)] text-left pl-5px"},be=O(e({__name:"list",props:{tableData:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","getMultiWalletsAllChain"],setup(e,{emit:O}){var be,ge;const ye=null==(be=a())?void 0:be.parent,we=null==(ge=null==ye?void 0:ye.exposed)?void 0:ge.getMultiWalletsAllChain,ke=O,{token_logo_url:Ce,mode:Ie}=l(t()),{theme:$e}=l(n()),{t:_e}=s(),Be=o(),{evmAddress:Te}=l(r()),Ne=i(!1),Re=c(null),Ae=i(!1),je=i(0),De=c(null),Ee=c({buttonRefs:{},currentBtnRef:{}});function Me(e){M.confirm(_e("walletRemoveTip2"),_e("walletRemove"),{type:"warning",icon:U(S),confirmButtonText:_e("confirm"),cancelButtonText:_e("cancel"),customClass:`${Ie.value} delete_confirm`}).then((()=>{var a,l,t;const n=(null==(t=null==(l=null==(a=e.balancesInfo)?void 0:a.filter((e=>"bsc"==e.chain)))?void 0:l[0])?void 0:t.address)||"";Q(n).then((()=>{W.success(_e("success")),ke("refresh")}))})).catch((e=>{}))}function Ue(e){Re.value=e,Ne.value=!0,setTimeout((()=>{!async function(){var e,a;const l=document.getElementById("qr-chain-canvas-code");if(!l)return;q.toCanvas({canvas:l,content:(null==(e=Re.value)?void 0:e.address)||"",width:200,nodeQrCodeOptions:{margin:2},logo:{src:`${Ce.value}chain/${(null==(a=Re.value)?void 0:a.chain)||"bsc"}.png`,logoRadius:8}}).catch((e=>{}))}()}),200)}function Se(e){if(e.isChildren){const a=Be.resolve({path:`/address/${e.address}/${e.chain}`});window.open(a.href,"_blank")}}const We=({row:e})=>e.isChildren?"cursor-pointer":"";return(a,l)=>{const t=N,n=w,s=V,o=z,r=j,i=E,c=d("copy"),W=v;return u(),p("div",null,[x((u(),f(o,{data:e.tableData,style:{width:"100%"},"row-key":"id","tree-props":{children:"balancesInfo",hasChildren:"hasChildren"},"default-expand-all":"",class:"table-list hidden-scrollbar bot-manage-table","header-row-class-name":"text-12px sticky top-0 z-10 font-500","row-class-name":We,onRowClick:Se},{empty:h((()=>{var a;return[e.loading||0!=(null==(a=e.tableData)?void 0:a.length)?(u(),p("span",K)):(u(),p("div",J,[m(t)]))]})),default:h((()=>[m(s,{prop:"name",label:"钱包","min-width":200},{default:h((({row:e})=>{var t,s;return[e.isChildren?(u(),p(b,{key:0},[g(y(null==(s=null==(t=e.name)?void 0:t.replace)?void 0:s.call(t,new RegExp("(.{6})(.+)(.{4})"),"$1...$3"))+" ",1),x(m(n,{name:"bxs:copy",class:"ml-5px mb--1px clickable color-[--third-text]",onClick:l[0]||(l[0]=k((()=>{}),["stop"]))},null,512),[[c,e.address]])],64)):(u(),p("div",H,[C("img",{class:"mr-8px",style:{"border-radius":"50%"},height:"24",src:("generateAvatarIcon"in a?a.generateAvatarIcon:$(_))((null==e?void 0:e.name)||""),alt:""},null,8,L),g(" "+y(e.name)+" ",1),m(G,{remark:e.remark,address:e.evmAddress,chain:"bsc",showAddress:!0,onRefresh:l[1]||(l[1]=e=>ke("refresh"))},null,8,["remark","address"]),$(Te)==e.evmAddress?(u(),p("span",P,y(a.$t("currentWallet")),1)):I("",!0)]))]})),_:1}),m(s,{prop:"chain",label:a.$t("chain"),align:"right"},{default:h((({row:e})=>{var l;return[g(y(null==(l=("getChainInfo"in a?a.getChainInfo:$(B))(null==e?void 0:e.chain))?void 0:l.name),1)]})),_:1},8,["label"]),m(s,{prop:"balance",label:a.$t("balance1"),align:"right"},{default:h((({row:e,$index:t})=>[C("div",{ref:e=>$(Ee).currentBtnRef[t]=e,onMouseenter:a=>function(e,a){var l,t,n;Ae.value=!0,je.value=a,De.value={...e},(null==(l=De.value)?void 0:l.balancesInfo)&&(De.value.balancesInfo=null==(n=null==(t=De.value)?void 0:t.balancesInfo)?void 0:n.reduce(((e,a)=>{if(["eth","base"].includes(a.chain)){const l=e.find((e=>"eth"===e.chain));l?l.mainTokenBalance=new F(l.mainTokenBalance).plus(a.mainTokenBalance).toFixed():e.push({...a,chain:"eth"})}else e.push(a);return e}),[]))}(e,t),onMouseleave:l[2]||(l[2]=e=>Ae.value=!1)}," $"+y(("formatNumber"in a?a.formatNumber:$(T))((null==e?void 0:e.balance)||0,2)),41,X)])),_:1},8,["label"]),m(s,{prop:"source",label:a.$t("origin"),align:"right"},{default:h((({row:e})=>[(null==e?void 0:e.isChildren)?I("",!0):(u(),p(b,{key:0},[e.source?(u(),p("span",Y,y(e.source),1)):I("",!0),1==e.genSource?(u(),p("span",Z,y(a.$t("import")),1)):(u(),p("span",ee,y(a.$t("create")),1))],64))])),_:1},8,["label"]),m(s,{label:a.$t("operate"),align:"right"},{default:h((({row:e})=>["delete"==e.operate&&$(Te)!==e.evmAddress?(u(),f(n,{key:0,class:"text-14px text-[--third-text] cursor-pointer hover:color-[--main-text]",name:"ic:baseline-delete",onClick:k((a=>async function(e){we&&(await we(),Number(null==e?void 0:e.balance)>0?M.confirm(_e("walletRemoveTip1"),_e("walletRemove"),{type:"warning",icon:U(S),confirmButtonText:_e("confirm"),cancelButtonText:_e("cancel"),customClass:`${Ie.value} delete_confirm`}).then((()=>{Me(e)})):Me(e))}(e)),["stop","prevent"])},null,8,["onClick"])):(null==e?void 0:e.isChildren)?(u(),p("div",{key:1,class:"bg-[--main-input-button-bg] rounded-4px inline-flex items-center gap-4px py-2px px-4px cursor-pointer",onClick:k((a=>Ue(e)),["stop","prevent"])},[m(n,{name:"custom:download",class:"text-10px"}),C("span",le,y($(_e)("deposit2")),1)],8,ae)):(u(),p("span",te))])),_:1},8,["label"])])),_:1},8,["data"])),[[W,e.loading]]),m(r,{modelValue:$(Ne),"onUpdate:modelValue":l[4]||(l[4]=e=>A(Ne)?Ne.value=e:null),width:"500",class:R([$($e)]),"append-to-body":"","close-on-click-modal":!1,"popper-style":{padding:"20px","border-radius":"8px"},"show-close":!1},{header:h((()=>[C("div",ne,[C("span",se,y(a.$t("deposit2")),1),m(n,{name:"material-symbols-light:close",class:"text-30px cursor-pointer",onClick:l[3]||(l[3]=k((e=>Ne.value=!1),["stop","prevent"]))})])])),default:h((()=>{var e,t,n;return[C("div",oe,[l[6]||(l[6]=C("canvas",{id:"qr-chain-canvas-code"},null,-1)),C("div",re,[C("span",ie,y(null==(t=("getChainInfo"in a?a.getChainInfo:$(B))((null==(e=$(Re))?void 0:e.chain)||""))?void 0:t.name),1),g(y(a.$t("walletAddress")),1)]),C("span",ce,y(null==(n=$(Re))?void 0:n.address),1)])]})),_:1},8,["modelValue","class"]),m(i,{visible:$(Ae),"onUpdate:visible":l[5]||(l[5]=e=>A(Ae)?Ae.value=e:null),"virtual-ref":$(Ee).currentBtnRef[$(je)],"virtual-triggering":"",trigger:"contextmenu",placement:"right","popper-class":"text-center","popper-style":{padding:0,"border-radius":"8px"}},{default:h((()=>{var e,t,n,s,o,r,i;return[C("table",de,[C("tbody",null,[(null==(e=$(De))?void 0:e.balancesInfo)?(u(!0),p(b,{key:0},D(null==(t=$(De))?void 0:t.balancesInfo,((e,l)=>{var t;return u(),p("tr",{key:l},[C("td",pe,y(null==(t=("getChainInfo"in a?a.getChainInfo:$(B))((null==e?void 0:e.chain)||""))?void 0:t.main_name),1),C("td",ue,y(("formatNumber"in a?a.formatNumber:$(T))((null==e?void 0:e.mainTokenBalance)||0,2)),1)])})),128)):(u(),p("tr",xe,[C("td",me,y((null==(s=("getChainInfo"in a?a.getChainInfo:$(B))((null==(n=$(De))?void 0:n.chain)||""))?void 0:s.main_name)||a.$t("mainToken")),1),C("td",ve,y(("formatNumber"in a?a.formatNumber:$(T))((null==(o=$(De))?void 0:o.mainTokenBalance)||0,2)),1)])),C("tr",null,[l[7]||(l[7]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDT",-1)),C("td",fe,y(("formatNumber"in a?a.formatNumber:$(T))((null==(r=$(De))?void 0:r.usdtTokenBalance)||0,2)),1)]),C("tr",null,[l[8]||(l[8]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDC",-1)),C("td",he,y(("formatNumber"in a?a.formatNumber:$(T))((null==(i=$(De))?void 0:i.usdcTokenBalance)||0,2)),1)])])])]})),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-edcd6b10"]]);export{be as default};
