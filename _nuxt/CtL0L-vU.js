import{d8 as e,d9 as l,da as t,db as n,dc as o,dd as a,f as r,de as s,df as i,r as u,g as c,dg as d,cZ as v,dh as p,K as m,o as f,w as x,O as h,a as b,G as g,i as k,B as _,by as y,bR as w,aq as C,c as $,d as S,t as N,F as P,b as T,di as F,bj as A,c9 as M,dj as D,v as B,q as V,J as I,D as E,aH as R,P as L,s as H,H as Y,C as O,Q as W,ae as G,a3 as U,bi as j,cL as q,I as z,V as K,U as J,a1 as X,d5 as Z,d6 as Q,dk as ee,b3 as le,cb as te,bQ as ne,S as oe,cD as ae,bO as re,m as se,dl as ie,dm as ue,M as ce,a0 as de,a9 as ve,_ as pe,ab as me,ak as fe,y as xe,aB as he,aD as be,j as ge,c3 as ke,n as _e,cm as ye,dn as we,ap as Ce,e as $e,a6 as Se,E as Ne,aW as Pe,dp as Te,dq as Fe,ca as Ae,cN as Me,bH as De,dr as Be,ds as Ve,dt as Ie,du as Ee,an as Re,z as Le,dv as He,dw as Ye,dx as Oe,dy as We,dz as Ge,dA as Ue,dB as je,bJ as qe,X as ze,dC as Ke,dD as Je,dE as Xe,ai as Ze,cK as Qe,a4 as el,dF as ll,ao as tl,dG as nl,x as ol,cC as al,bs as rl,T as sl,dH as il,b4 as ul,a5 as cl,dI as dl,dJ as vl,dK as pl}from"./BMSK5C5y.js";import{E as ml}from"./Bu7F9GSa.js";import{E as fl}from"./ByCXp7NP.js";import{d as xl,e as hl,f as bl,u as gl}from"./Dat2Ri8e.js";const kl=l({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:n(o),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:["light","dark"],default:"light"},...t}),_l={open:()=>!0,close:l=>e(l)||l instanceof Event},yl=r({name:"ElAlert"});const wl=D(a(r({...yl,props:kl,emits:_l,setup(e,{emit:l}){const t=e,{Close:n}=F,a=s(),r=i("alert"),D=u(!1),B=c((()=>o[t.type])),V=c((()=>!(!t.description&&!a.default))),I=e=>{D.value=!1,l("close",e)},{onOpen:E,onClose:R}=d({showAfter:v(t,"showAfter"),hideAfter:v(t,"hideAfter"),autoClose:v(t,"autoClose"),open:()=>{D.value=!0,l("open")},close:I});return p&&E(),(e,l)=>(f(),m(M,{name:k(r).b("fade"),persisted:""},{default:x((()=>[h(b("div",{class:g([k(r).b(),k(r).m(e.type),k(r).is("center",e.center),k(r).is(e.effect)]),role:"alert"},[e.showIcon&&(e.$slots.icon||k(B))?(f(),m(k(y),{key:0,class:g([k(r).e("icon"),{[k(r).is("big")]:k(V)}])},{default:x((()=>[w(e.$slots,"icon",{},(()=>[(f(),m(C(k(B))))]))])),_:3},8,["class"])):_("v-if",!0),b("div",{class:g(k(r).e("content"))},[e.title||e.$slots.title?(f(),$("span",{key:0,class:g([k(r).e("title"),{"with-description":k(V)}])},[w(e.$slots,"title",{},(()=>[S(N(e.title),1)]))],2)):_("v-if",!0),k(V)?(f(),$("p",{key:1,class:g(k(r).e("description"))},[w(e.$slots,"default",{},(()=>[S(N(e.description),1)]))],2)):_("v-if",!0),e.closable?(f(),$(P,{key:2},[e.closeText?(f(),$("div",{key:0,class:g([k(r).e("close-btn"),k(r).is("customed")]),onClick:I},N(e.closeText),3)):(f(),m(k(y),{key:1,class:g(k(r).e("close-btn")),onClick:k(R)},{default:x((()=>[T(k(n))])),_:1},8,["class","onClick"]))],64)):_("v-if",!0)],2)],2),[[A,D.value]])])),_:3},8,["name"]))}}),[["__file","alert.vue"]])),Cl={class:"flex mt-4px"},$l=r({__name:"collect",props:{iconClass:{},isCollected:{type:Boolean},userFavoriteGroups:{}},emits:["collect","newGroupAndCollect"],setup(e,{emit:l}){const t=e,n=l,o=u(0),a=u(""),r=u(!1),s=u(!1),i=u(!1),{t:d}=B(),v=c((()=>[{name:d("defaultGroup"),group_id:0}].concat(t.userFavoriteGroups)));function p(){G()&&(t.isCollected?n("collect"):s.value=!0)}const h=()=>{if(a.value){if(v.value.find((e=>e.name===a.value)))return void U.error(d("groupNameAlreadyExists"));n("newGroupAndCollect",a.value)}else n("collect",o.value);y()};function y(){s.value=!1,a.value="",r.value=!1}return document.addEventListener("click",y),V((()=>{document.removeEventListener("click",y)})),(e,l)=>{const t=O,n=R,u=L,c=Y,d=W;return f(),m(d,{"popper-class":"[&&]:[--el-popover-padding:0]",visible:k(s),trigger:"click",width:"248px"},{reference:x((()=>[T(t,{name:"custom:star",class:g(`${e.iconClass} ${e.isCollected?"color-[--yellow]":"color-[--icon-color]"}`),onClick:I(p,["self","stop"])},null,8,["class"])])),default:x((()=>[b("div",{class:"flex flex-col gap-8px p-12px",onClick:l[2]||(l[2]=I((()=>{}),["stop"]))},[(f(!0),$(P,null,E(k(v),(e=>(f(),$("div",{key:e.group_id},[T(n,{class:"[--el-checkbox-height:14px]",label:e.name,modelValue:k(o)===e.group_id,onChange:l=>{return t=e.group_id,o.value=t,void(a.value="");var t}},null,8,["label","modelValue","onChange"])])))),128)),k(r)?(f(),m(u,{key:0,modelValue:k(a),"onUpdate:modelValue":l[0]||(l[0]=e=>H(a)?a.value=e:null),modelModifiers:{trim:!0},clearable:"",placeholder:e.$t("enterGroupName"),maxlength:20},null,8,["modelValue","placeholder"])):_("",!0),T(c,{disabled:k(r),class:"w-full",onClick:l[1]||(l[1]=e=>r.value=!0)},{default:x((()=>[T(t,{name:"material-symbols:add-circle",class:"mr-4px"}),S(N(e.$t("newGroup")),1)])),_:1},8,["disabled"]),b("div",Cl,[T(c,{class:"flex-1",onClick:y},{default:x((()=>[S(N(e.$t("cancel")),1)])),_:1}),T(c,{loading:k(i),class:"flex-1",type:"primary",onClick:h},{default:x((()=>[S(N(e.$t("confirm")),1)])),_:1},8,["loading"])])])])),_:1},8,["visible"])}}});function Sl(e,l){const{$api:t}=j();return t(`/v1api/v2/tokens/${e}/vote/support`,{method:"post",body:{user_address:l}})}function Nl(e,l){const{$api:t}=j();return t(`/v1api/v2/tokens/${e}/vote/against`,{method:"post",body:{user_address:l}})}function Pl(e,l){const{$api:t}=j();return t("/v1api/v2/tokens/contract/vote",{method:"get",query:{token_id:e,user_address:l}})}function Tl(e){const{$api:l}=j();return l("/v1api/v2/tokens/lp_holders",{method:"get",query:{token_id:e}})}const Fl=q("check",(()=>{const e=u(null),l=z(!1),t=z(0),n=z(!1),o=z(0),a=z(0),r=z(0);function s(e){return(null==e?void 0:e.lock)||/lock|null|(black hole)/gi.test((null==e?void 0:e.mark)||"")}return{hasLpLock:n,progress:t,showResult:l,checkResult:e,statistics_risk_store:o,statistics_warning_store:a,statistics_unknown_store:r,getContractCheckResult:function(o,a){(function(e,l){const{$api:t}=j();return t("/v1api/v2/tokens/contract",{method:"get",query:{token_id:e,type:"token",user_address:l}})})(o,a).then((o=>{var a,r,i,u,c,d,v,p,m,f;const x=o.token_contract,h=null==(a=null==x?void 0:x.contract_data)?void 0:a.audits_info;let b=null;h&&(b=JSON.parse(h));const g=(null==(i=null==(r=null==x?void 0:x.contract_data)?void 0:r.owner_txs)?void 0:i.filter((e=>{var l;return(null==e?void 0:e.params)&&(null==(l=null==e?void 0:e.params)?void 0:l.length)>0})))||[];null!==x.contract_data&&(l.value=!0);const k=((null==(u=x.contract_data)?void 0:u.pair_holders_rank)||[]).reduce(((e,l)=>{let t=0;return s(l)&&(t=Number(null==l?void 0:l.quantity)),e+t}),0)/Number(null==(c=null==x?void 0:x.contract_data)?void 0:c.pair_total);n.value=(null==(d=null==x?void 0:x.contract_data)?void 0:d.is_locked)||(((null==(m=null==(p=null==(v=null==x?void 0:x.contract_data)?void 0:v.pair_holders_rank)?void 0:p.some)?void 0:m.call(p,(e=>s(e))))&&k>.001)??!1),t.value=((null==(f=null==x?void 0:x.contract_data)?void 0:f.risk_score)??0)/100||0;const _={...null==x?void 0:x.contract_data,...x,audits_info:b,owner_txs:g};e.value=_}))}}})),Al=q("rankKline",(()=>{const e=u({}),l=u(null),t=u(null),n=z([]),o=u(!1),a=u(""),r=u(""),s=u(0),i=u(0),d=u(0),v=u(!1),p=u(!1),m=K(),f=J(),{t:x}=B(),h=z(0),b=c((()=>{var e;return h.value||(null==(e=k.value)?void 0:e.current_price_usd)})),g=c((()=>f.evmAddress||m.address)),k=c((()=>{var e;return null==(e=l.value)?void 0:e.token})),_=c((()=>{var e,t;return null==(t=null==(e=l.value)?void 0:e.pairs)?void 0:t[0]})),y=u(!1),w=c((()=>{var e,l;return 0==s.value?x("defaultGroup"):null==(l=null==(e=n.value)?void 0:e.find((e=>e.group_id==s.value)))?void 0:l.name})),C=c((()=>{var e;return null==(e=_.value)?void 0:e.pair})),$=c((()=>{var e,l,t,n;const o=new X((null==(e=k.value)?void 0:e.total)||0).minus((null==(l=k.value)?void 0:l.lock_amount_dec)||0).minus((null==(t=k.value)?void 0:t.other_amount_dec)||0).minus((null==(n=k.value)?void 0:n.burn_amount_dec)||0);return o.lt(0)?new X(0):o})),S=c((()=>new X(b.value||0).times($.value||0).toFixed()||"0"));return{klineRow:e,tokenInfo:l,tokenInfoExtra:t,userFavoriteGroups:n,collected:o,remark:a,remark2:r,groupId:s,selectedGroup:d,token:k,pair:_,selectedToken:y,twitterType:i,currentGroup:w,editableGroup:v,editableRemark:p,pairAddress:C,tokenPrice:h,price:b,circulation:$,marketCap:S,getData:function(e){const u=e.id;Z(u).then((e=>{l.value=e})),Q(u).then((e=>{t.value=e})),function(e){ee(e).then((e=>{i.value=e.type||0})).catch((()=>{i.value=0}))}(u),g.value&&(function(e){te(e,g.value).then((e=>{o.value=!!(null==e?void 0:e.address),a.value=(null==e?void 0:e.remark)||"",r.value=(null==e?void 0:e.remark)||"",s.value=(null==e?void 0:e.group_id)||0,d.value=(null==e?void 0:e.group_id)||0})).catch((e=>{})).finally((()=>{}))}(u),async function(){try{const e=await le(g.value);n.value=(e||[]).filter((e=>!!e.name&&"token"===e.type))}catch(e){}}()),Fl().getContractCheckResult(u,g.value)}}}));function Ml(){const{t:e}=B(),l=ne(),t=oe(),n=J(),o=c((()=>{var o,a,r,s;return(n.accessToken?[{id:"trade",name:e("mine")}]:[]).concat(null==(s=null==(r=null==(a=null==(o=l.totalHolders)?void 0:o.filter)?void 0:a.call(o,(e=>{var l;return((null==e?void 0:e.total_address)||0)>0&&(null==(l=["16","19","25","30","31"])?void 0:l.includes(e.type))})))?void 0:r.map)?void 0:s.call(r,(e=>({id:e.type,name:(null==e?void 0:e[ae(t.locale)])+("31"!==e.type?`(${null==e?void 0:e.total_address})`:"")}))))})),a=re("tv_markTabsChecked",{trade:!0,16:!1,19:!1,25:!0,30:!1,31:!0});const r=new Map,s=new Map;function i({el:e,side:l,type:t,urlPrefix:n,name:o,bucketTime:a}){var r;const s="buy"===l,i="31"===t;let c=s?`${n}signals/marks/mark-buy-${t}.png`:`${n}signals/marks/mark-sell-${t}.png`;(null==(r=e.wallet_logo)?void 0:r.logo)&&e.wallet_logo.logo.includes(".webp")&&(c=e.wallet_logo.logo);let d="transparent",v=0;return i&&(v=2,d=s?"#12B886":"#F6465D"),{id:`${e.tx_time}-${l}-${t}`,time:a,color:{background:"transparent",border:d},imageUrl:c,label:s?"B":"S",labelFontColor:"#fff",minSize:Number(e.volume)>=2e3?30:25,hoveredBorderWidth:v,borderWidth:v,text:u(o,t,e,s,a),showLabelWhenImageLoaded:!1,user_address:e.wallet_address,tx_time:e.tx_time}}function u(l,t,n,o,a){var r;const s=e(o?"bought":"sold"),i=null==l?void 0:l.replace(/\(.*\)$/,"");if(30===Number(t)){const l=e(o?"netInflow":"netOutflow"),t=e(o?"inflow":"outflow"),r=e(o?"campaignBuyAvg":"campaignSellAvg");return`${i} ${l}\n        ${t}: ${de(n.volume,2)}(${de(n.txns,0)})\n        ${r}: $${de(Number(n.volume)/(Number(n.amount)||1),4)}\n        ${l}: ${de(n.volume,2)}\n        ${ve(a,"YYYY-MM-DD HH:mm")}\n      `}return`${(null==(r=n.wallet_logo)?void 0:r.name)||`${i}`} ${s}\n        ${e("amountB")}: ${de(n.amount,2)}\n        ${e("amountU")}: $${de(n.volume,2)}\n        ${e("price")}: $${de(Number(n.volume)/(Number(n.amount)||1),4)}\n        ${e("Txs")}: ${de(n.txns)}\n        ${ve(a,"YYYY-MM-DD HH:mm")}\n        `}function d(e,l,t,n){var o,a,r,s,i,u,c,d,p;const m=[],f={},x=(null==(o=ce().globalConfig)?void 0:o.token_logo_url)||"https://www.iconaves.com/",h=Number(l);for(const v of e){const e=Math.floor(v.time/h)*h;if(30===Number(t)){const l=(null==(a=null==v?void 0:v.buy)?void 0:a.volume)||0,t=(null==(r=null==v?void 0:v.sell)?void 0:r.volume)||0,n=`${e}-${l>t?"buy":"sell"}`,o=f[n]??(f[n]={time:e,side:l>t?"buy":"sell",amount:0,txns:0,volume:0,buyAmount:0,sellAmount:0,buyTxns:0});o.buyAmount=(null==(s=null==v?void 0:v.buy)?void 0:s.amount)||0,o.sellAmount=(null==(i=null==v?void 0:v.sell)?void 0:i.amount)||0,o.amount=Math.abs(o.buyAmount-o.sellAmount),o.buyTxns=(null==(u=null==v?void 0:v.buy)?void 0:u.txns)||0,o.sellTxns=(null==(c=null==v?void 0:v.sell)?void 0:c.txns)||0,o.txns=o.buyTxns+o.sellTxns,o.volume=Math.abs(l-t),o.buyVolume=(null==(d=null==v?void 0:v.buy)?void 0:d.volume)||0,o.sellVolume=(null==(p=null==v?void 0:v.sell)?void 0:p.volume)||0}else{if(v.buy){const l=`${e}-buy`,t=f[l]??(f[l]={time:e,side:"buy",amount:0,txns:0,volume:0});t.amount+=v.buy.amount,t.txns+=v.buy.txns,t.volume+=v.buy.volume}if(v.sell){const l=`${e}-sell`,t=f[l]??(f[l]={time:e,side:"sell",amount:0,txns:0,volume:0});t.amount+=v.sell.amount,t.txns+=v.sell.txns,t.volume+=v.sell.volume}}}for(const b of Object.values(f)){const e="buy"===b.side;m.push({id:`${b.time}-${b.side}-${t}`,time:b.time,color:{background:"transparent",border:"transparent"},imageUrl:e?`${x}signals/marks/mark-buy-${t}.png`:`${x}signals/marks/mark-sell-${t}.png`,label:e?"B":"S",labelFontColor:"#fff",minSize:20,hoveredBorderWidth:0,borderWidth:0,text:v(b,t,n),showLabelWhenImageLoaded:!1})}return m.sort(((e,l)=>e.time-l.time))}function v(l,t,n){const o="buy"===l.side;if(30===Number(t)){const t=e(o?"netInflow":"netOutflow"),{buyVolume:a,sellVolume:r,buyTxns:s,sellTxns:i,volume:u}=l,c=(a||0)>0?`\n${e("inflow")}: ${de(a||0,2)}(${de(s||0,0)})\n${e("campaignBuyAvg")}: $${de((a||0)/(l.buyAmount||1),2)}`:"",d=(r||0)>0?`\n${e("outflow")}: $${de(r||0,4)}(${de(i||0,0)})\n${e("campaignSellAvg")}: $${de((r||0)/(l.sellAmount||1),2)}`:"";return`${null==n?void 0:n.replace(/\(.*\)$/,"")} ${t}${c}${d}\n${e(o?"netInflow":"netOutflow")}: ${de(u,2)}\n${ve(l.time,"YYYY-MM-DD HH:mm")}\n`}const a=e(o?"bought":"sold"),{amount:r,txns:s,volume:i}=l;return`${null==n?void 0:n.replace(/\(.*\)$/,"")} ${a}\n${e("amountB")}: ${de(r,2)}\n${e("amountU")}: $${de(i,2)}\n${e("price")}: $${de(i/(r||1),4)}\n${e("Txs")}: ${de(s)}\n${ve(l.time,"YYYY-MM-DD HH:mm")}\n`}return se((()=>{var e;return null==(e=l.token)?void 0:e.token}),(()=>{r.clear(),s.clear()})),{marksTabs:o,markTabsChecked:a,createMarkButton:function(e,l){var t;const n=null==e?void 0:e.createButton();n&&(null==(t=o.value)||t.forEach((l=>{var t;const o=document.createElement("button");o.style.display="flex",o.style.alignItems="center",o.style.cursor="pointer",o.style.backgroundColor="transparent",o.style.border="none",o.style.outline="none",o.style.fontSize="12px",(null==(t=a.value)?void 0:t[null==l?void 0:l.id])&&(o.style.color="#3F80F7"),o.innerText=l.name,n.appendChild(o),o.onclick=()=>{var t,n,r,s,i,u;a.value[l.id]?(a.value[l.id]=!1,o.style.color="inherit",null==(r=null==(n=null==(t=null==e?void 0:e.activeChart)?void 0:t.call(e))?void 0:n.clearMarks)||r.call(n)):(a.value[l.id]=!0,o.style.color="#3F80F7"),null==(u=null==(i=null==(s=null==e?void 0:e.activeChart)?void 0:s.call(e))?void 0:i.refreshMarks)||u.call(i)}})),l.push(n))},getMarks:function({from:e,to:l,interval:t,onDataCallback:n,pair:u,chain:c,token:v,user:p}){o.value.forEach((o=>{var m,f,x,h;const b=u+"-"+c+"-"+p+"-"+t+"-"+o.id+"-"+e+"-"+l;if(r.has(b)&&(null==(m=a.value)?void 0:m[o.id])){const e=d(r.get(b)||[],t,o.id,o.name);n(e||[])}else if(s.has(b)&&(null==(f=a.value)?void 0:f[o.id])){const e=s.get(b);n(e)}else"trade"===o.id&&(null==(x=a.value)?void 0:x[o.id])?ie({from:e,to:l,interval:t,pair:u+"-"+c,token_address:v,user_address:p}).then((e=>{const l=d(e,t,o.id,o.name);r.set(b,e||[]),n(l||[])})):(null==(h=a.value)?void 0:h[o.id])&&ue({from:e,to:l,interval:t,pair_id:u+"-"+c,type:o.id}).then((e=>{if(Array.isArray(e)){const l=function(e,l,t,n){var o;const a=[],r=(null==(o=ce().globalConfig)?void 0:o.token_logo_url)||"https://www.iconaves.com/",s=Number(l);for(const u of e){const e=Math.floor(u.time/s)*s;for(const l of u.holders){const{wallet_address:o,wallet_logo:s}=l;l.buy&&a.push(i({el:{...l.buy,wallet_address:o,wallet_logo:s},side:"buy",type:t,name:n,bucketTime:e,urlPrefix:r})),l.sell&&a.push(i({el:{...l.sell,wallet_address:o,wallet_logo:s},side:"sell",type:t,name:n,bucketTime:e,urlPrefix:r}))}}return a}(e||[],t,o.id,o.name);s.set(b,l),n(l||[])}}))}))},wsTxUpdateMarks:function({tx:e,interval:t,user:n},o){var a,s,i,u,c,d;const v=null==(a=null==l?void 0:l.token)?void 0:a.token,p=null==(s=null==l?void 0:l.token)?void 0:s.chain,m=null==l?void 0:l.pairAddress,f={time:e.time};if("maker"in e){if(v!==e.target||e.maker!==n)return;const l=e.direction;"buy"===l&&(f.buy={amount:Number((null==e?void 0:e.target_amt)||0),txns:1,volume:Number((null==e?void 0:e.price_u)||0)*Number((null==e?void 0:e.target_amt)||0)}),"sell"===l&&(f.sell={amount:Number((null==e?void 0:e.target_amt)||0),txns:1,volume:Number((null==e?void 0:e.price_u)||0)*Number((null==e?void 0:e.target_amt)||0)})}else{if(v!==e.from_address&&v!==e.to_address||e.wallet_address!==n)return;const t=(null==(i=null==l?void 0:l.token)?void 0:i.token)===e.to_address?"buy":"sell";e.time,"buy"===t&&(Number((null==e?void 0:e.to_amount)||0),Number((null==e?void 0:e.to_price_usd)||0),Number((null==e?void 0:e.to_amount)||0)),"sell"===t&&(Number((null==e?void 0:e.from_amount)||0),Number((null==e?void 0:e.from_price_usd)||0),Number((null==e?void 0:e.from_amount)||0))}r.forEach(((e,l)=>{l.startsWith(m+"-"+p+"-"+n+"-"+t+"-trade")&&e.push(f)})),null==(d=null==(c=null==(u=null==o?void 0:o.activeChart)?void 0:u.call(o))?void 0:c.refreshMarks)||d.call(c)},profilingMarksCache:s}}const Dl={key:0,class:"time"},Bl={key:0,class:"text-center"},Vl={class:"color-[--d-F5F5F5-l-111] text-14px mb-12px block"},Il={class:"color-[--d-F5F5F5-l-111] text-28px flex items-center"},El={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},Rl={class:""},Ll={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},Hl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},Yl={class:"bg-[--d-151A22-l-E8F1FF] px-16px py-8px radius-8px mr-6px text-center"},Ol={key:1,class:"flex items-center bg-[--d-151A22-l-E8F1FF] py-8px px-24px radius-4px"},Wl={class:"color-[--d-8CA0C3-l-566275] text-36px"},Gl=pe({__name:"unknownRisk",props:{isRank:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{emit:l}){const t=l,n=e.isRank?Al():ne(),o=c((()=>n.price)),a=c((()=>{var e;return(null==(e=n.token)?void 0:e.opening_at)||0}));function r(){t("refresh")}return(e,l)=>{const t=me;return k(o)?_("",!0):(f(),$("div",Dl,[k(a)>0?(f(),$("div",Bl,[b("span",Vl,N(e.$t("countdown2Opening")),1),(f(),m(t,{key:k(a),timestamp:k(a),"end-time":0,onDone:r},{default:x((({formattedData:e})=>[b("div",Il,[b("div",El,[b("span",Rl,N((e.days<10?"0":"")+e.days),1),l[0]||(l[0]=b("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"D",-1))]),b("div",Ll,[b("span",null,N((e.hours<10?"0":"")+e.hours),1),l[1]||(l[1]=b("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"H",-1))]),b("div",Hl,[b("span",null,N((e.minutes<10?"0":"")+e.minutes),1),l[2]||(l[2]=b("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"M",-1))]),b("div",Yl,[b("span",null,N((e.seconds<10?"0":"")+e.seconds),1),l[3]||(l[3]=b("span",{class:"text-12px mt-4px color-[--d-8CA0C3-l-566275] block"},"S",-1))])])])),_:1},8,["timestamp"]))])):(f(),$("div",Ol,[b("span",Wl,N(e.$t("unknownRisk")),1)]))]))}}},[["__scopeId","data-v-64d3a44b"]]),Ul={class:"flex-start items-center"},jl={class:"text-20px font-500 cursor-pointer"},ql={key:0,class:"content text-center"},zl={class:"mt-25px text-center"},Kl={key:1},Jl={class:"flex-between mt-16px"},Xl={class:"title block"},Zl={key:0,class:"mr-4px"},Ql={key:1,class:"mr-4px"},et={class:"py-4px [&&]:m--12px flex flex-col"},lt={class:"ml-4px mr-4px"},tt={class:"ml-4px mr-4px"},nt={class:"flex-between mt-24px"},ot={class:"text-14px"},at={class:"text-12px color-[--third-text]"},rt={class:"ml-5px text-12px"},st={class:"flex mt-20px"},it={class:"ml-4px mr-4px"},ut={class:"ml-4px mr-4px"},ct={class:"py-4px [&&]:m--12px flex flex-col"},dt={class:"ml-4px mr-4px"},vt={class:"ml-4px mr-4px"},pt={class:"flex items-center justify-center mt-10px gap-10px"},mt=["id","value"],ft=["for"],xt={class:"slippage-input flex-1"},ht={class:"color-[--main-text] mr-5px"},bt={key:0,class:"flex-between mt-24px"},gt={class:"title block"},kt={class:"list mt-32px"},_t=["keys","onClick"],yt={class:"flex-between parent cursor-pointer"},wt={class:"text-16px font-500 ml-8px"},Ct={key:0,class:"py-4px flex flex-col mt-16px"},$t=["onClick"],St={class:"ml-4px color-[--secondary-text]"},Nt={class:"ml-4px"},Pt={key:0,class:"color-[--third-text] ml-4px"},Tt={key:1,class:"color-[--down-color] ml-4px"},Ft={key:0,class:"empty text-14px color-[--icon-color] flex items-center justify-center flex-col mt-200px"},At={class:"mt-10px"},Mt={class:"text-14px color-[--third-text] mt-20px"},Dt={class:"color-[--main-text]"},Bt=pe(r({__name:"dialogRemind",props:{modelValue:Boolean},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,n=l,o=J(),{t:a}=B(),{mode:r}=fe(xe()),s=xl(),{remindList:i,loadingRemind:u,len:d,remindCount:v}=fe(s),{getNotifyList:p}=s,y=he(),w=c({get:()=>t.modelValue??!1,set:e=>n("update:modelValue",e)}),C=ne(),F=z(!1),A=z(0),M=z(null),D=z(!1),V=be(),G=ge({direction:"up",is_repeatable:0,warning_price:0}),j=z(!1),q=z(!1);z(0);const K=z(!1),X=c((()=>V.currentAddress||"")),Z=c((()=>"up"==G.direction?[25,50,100]:[50,30,15]));c((()=>null==C?void 0:C.tokenInfo));const Q=c((()=>null==C?void 0:C.token)),ee=c((()=>y.params.id));c((()=>{const{chain:e}=ke(ee.value,0);return e}));const le=c((()=>{var e;return D.value?null==(e=i.value)?void 0:e.filter((e=>{var l;return e.token==(null==(l=Q.value)?void 0:l.token)})):i.value||[]}));function te(){G.warning_price=ye((null==C?void 0:C.price)||0,4),G.direction="up",G.is_repeatable=0,window.Notification&&"granted"==Notification.permission?!1===F.value&&X.value&&p():F.value=!0}function oe(){window.Notification&&"denied"!==Notification.permission?Notification.requestPermission().then((e=>{"granted"===e&&(F.value=!1)})):window.Notification&&"denied"==Notification.permission?window.open("https://support.google.com/chrome/answer/3220216?hl=en&co=GENIE.Platform%3DDesktop"):window.location.href.startsWith("https")?U.error(a("unSupportNotify")):U.error(a("domainSafe"))}function ae(){var e,l,t;if(d.value>=100)return void U.error(a("alertTip2"));if(!G.warning_price)return void U.error(a("alertTip1"));let n={...G,user_address:X.value,token:(null==(e=null==Q?void 0:Q.value)?void 0:e.token)||"",symbol:(null==(l=null==Q?void 0:Q.value)?void 0:l.symbol)||"",chain:(null==(t=null==Q?void 0:Q.value)?void 0:t.chain)||"",current_price:Number(null==C?void 0:C.price),warning_price:Number(G.warning_price||0)};K.value=!0,hl(n,X.value).then((e=>{U.success(a("success")),p()})).catch((e=>{U.error(a("fail"))})).finally((()=>{K.value=!1}))}function re(e,l=0){Pe.confirm(a(1==l?"deleteGroupAlert":"deleteAlert"),a("tips"),{type:"warning",icon:Te(Fe),confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),customClass:`${r.value} delete_confirm`}).then((()=>{bl(e,X.value).then((e=>{U.success(a("success")),p()})).catch((e=>{U.error(a("fail"))})).finally((()=>{}))})).catch((e=>{}))}function ie(e){G.direction=e,j.value=!1,M.value=0,A.value=0}function ue(e){G.is_repeatable=e,q.value=!1}function ce(){let e=0;e=A.value?"up"==G.direction?(1+A.value/100)*Number((null==C?void 0:C.price)||0):(1-A.value/100)*Number((null==C?void 0:C.price)||0):Number((null==C?void 0:C.price)||0),G.warning_price=ye(e||0,4)}function ve(){M.value?"up"==G.direction?G.warning_price=(1+M.value/100)*Number((null==C?void 0:C.price)||0):G.warning_price=(1-M.value/100)*Number((null==C?void 0:C.price)||0):G.warning_price=Number((null==C?void 0:C.price)||0),G.warning_price=ye(G.warning_price||0,4)}se(v,(e=>{e&&w.value&&te()})),se((()=>w.value),(e=>{e?te():(q.value=!1,j.value=!1)})),se((()=>X.value),(e=>{e&&!F.value?te():i.value=[]})),se((()=>F.value),(e=>{e?i.value=[]:te()})),_e((()=>{}));const pe=e=>{const l=e.replace(/[^0-9.]/g,"").replace(/^0+(\d)/,"$1").replace(/(\..*?)\..*/g,"$1");G.warning_price=l},me=()=>{const e=Number(G.warning_price);G.warning_price=isNaN(e)?0:e},Ae=()=>{o.changeConnectVisible(!0)},Me=()=>{0==Number(G.warning_price)&&(G.warning_price="")},De=()=>{0!==M.value&&null!==M.value||(M.value=null)};return(e,l)=>{const t=O,n=wl,o=W,a=L,r=Y,s=ml,c=R,v=Se,p=$e,y=fl,B=Ne,V=Ce;return f(),m(B,{modelValue:k(w),"onUpdate:modelValue":l[11]||(l[11]=e=>H(w)?w.value=e:null),width:"640px",class:"dialog-box dialog-max dialog-remind dialog",onClose:l[12]||(l[12]=e=>w.value=!1),"append-to-body":""},{header:x((()=>[b("div",Ul,[b("span",jl,N(e.$t("alerts")),1)])])),default:x((()=>{var B,R;return[k(F)?(f(),$("div",ql,[T(t,{class:"text-30px",name:"custom:bell-close"}),b("div",zl,[S(N(e.$t("notifyDenyTipBefore"))+" ",1),b("a",{class:"set",href:"",onClick:I(oe,["stop","prevent"])},N(e.$t("notifyDenyTip")),1),S(" "+N(e.$t("notifyDenyTipAfter")),1)])])):(f(),$("div",Kl,[T(n,{type:"warning",title:e.$t("remindTip"),closable:!1,"show-icon":"",style:{backgroundColor:"#FFA6221A",color:"#FFA622",border:"none",fontSize:"12px"}},null,8,["title"]),b("div",Jl,[b("span",Xl,N(e.$t("alertFrequency")),1),T(o,{"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-end",trigger:"click",visible:k(q)},{reference:x((()=>[b("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--border] px-8px py-8px",onClick:l[0]||(l[0]=I((e=>q.value=!k(q)),["stop"]))},[1==k(G).is_repeatable?(f(),$("span",Zl,N(e.$t("duplicate")),1)):(f(),$("span",Ql,N(e.$t("once")),1)),T(t,{name:k(q)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])])),default:x((()=>[b("div",et,[b("div",{class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[1]||(l[1]=I((e=>ue(1)),["stop"]))},[b("span",lt,N(e.$t("duplicate")),1)]),b("div",{class:"flex-start items-center text-12px py-4px px-8px color hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[2]||(l[2]=I((e=>ue(0)),["stop"]))},[b("span",tt,N(e.$t("once")),1)])])])),_:1},8,["visible"])]),b("div",nt,[b("span",ot,N(e.$t("triggerCondition")),1),l[13]||(l[13]=b("div",{class:"flex-1"},null,-1)),b("span",at,N(null==(B=k(Q))?void 0:B.symbol)+" "+N(e.$t("currentPrice")),1),b("span",rt,"$"+N(("formatNumber"in e?e.formatNumber:k(de))((null==(R=k(C))?void 0:R.price)||0,{decimals:4,limit:6})),1)]),b("div",st,[T(o,{"popper-class":"[--el-popover-bg-color:--border]",placement:"bottom-start",trigger:"click",visible:k(j)},{reference:x((()=>[b("div",{class:"flex-start items-center cursor-pointer text-12px bg-[--border] px-8px",onClick:l[3]||(l[3]=I((e=>j.value=!k(j)),["stop"]))},["up"==k(G).direction?(f(),$(P,{key:0},[T(t,{class:"text-16px",name:"custom:arrow-up"}),b("span",it,N(e.$t("gtPrice")),1)],64)):(f(),$(P,{key:1},[T(t,{class:"text-16px",name:"custom:arrow-down"}),b("span",ut,N(e.$t("ltPrice")),1)],64)),T(t,{name:k(j)?"radix-icons:triangle-up":"radix-icons:triangle-down",class:"text-16px color-[--main-text]"},null,8,["name"])])])),default:x((()=>[b("div",ct,[b("div",{class:"flex-start items-center text-12px py-4px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[4]||(l[4]=I((e=>ie("up")),["stop"]))},[T(t,{class:"text-16px",name:"custom:arrow-up"}),b("span",dt,N(e.$t("gtPrice")),1)]),b("div",{class:"flex-start items-center text-12px py-4px px-8px color hover:bg-[--dialog-list-hover] cursor-pointer",onClick:l[5]||(l[5]=I((e=>ie("down")),["stop"]))},[T(t,{class:"text-16px",name:"custom:arrow-down"}),b("span",vt,N(e.$t("ltPrice")),1)])])])),_:1},8,["visible"]),T(a,{class:"ml-8px mr-8px flex-1 h-32px",modelValue:k(G).warning_price,"onUpdate:modelValue":l[6]||(l[6]=e=>k(G).warning_price=e),placeholder:e.$t("placeholderNotify"),onInput:pe,onFocus:Me,onBlur:me},null,8,["modelValue","placeholder"]),k(X)?(f(),m(r,{key:0,type:"primary",onClick:I(ae,["stop","prevent"]),loading:k(K)},{default:x((()=>[S(N(e.$t("createNotify")),1)])),_:1},8,["loading"])):(f(),m(r,{key:1,type:"primary",onClick:Ae},{default:x((()=>[S(N(e.$t("connectWallet")),1)])),_:1}))]),b("div",pt,[(f(!0),$(P,null,E(k(Z),((e,t)=>(f(),$("div",{key:t,class:"radio-group flex-1"},[h(b("input",{id:`radio-buy-${e}`,"onUpdate:modelValue":l[7]||(l[7]=e=>H(A)?A.value=e:null),type:"radio",value:e,class:"radio-input",onChange:I(ce,["stop"])},null,40,mt),[[we,k(A)]]),b("label",{for:`radio-buy-${e}`,class:g(["radio-item",{"no-checked":k(M)}]),style:{"border-radius":"4px"}},N("up"==k(G).direction?"+":"-")+N(e)+"%",11,ft)])))),128)),b("div",xt,[b("span",ht,N("up"==k(G).direction?"+":"-"),1),T(s,{modelValue:k(M),"onUpdate:modelValue":l[8]||(l[8]=e=>H(M)?M.value=e:null),class:"bg-[--border] rounded-4px",name:"slippage",type:"number",placeholder:e.$t("custom"),max:"up"==k(G).direction?1/0:99,min:0,step:.01,"controls-position":"right",controls:!1,clearable:"",onFocus:De,onChange:ve},null,8,["modelValue","placeholder","max"]),l[14]||(l[14]=b("span",{class:"color-[--main-text]"},"%",-1))])]),k(i).length>0?(f(),$("div",bt,[b("span",gt,N(e.$t("createRecord")),1),T(c,{modelValue:k(D),"onUpdate:modelValue":l[9]||(l[9]=e=>H(D)?D.value=e:null),label:e.$t("currentToken")},null,8,["modelValue","label"])])):_("",!0),h((f(),m(y,{class:"hidden-scrollbar",height:"600px"},{default:x((()=>{var n;return[b("div",kt,[(f(!0),$(P,null,E(k(le),((n,o)=>{var a;return f(),$("div",{class:"item",keys:o,onClick:I((e=>re(n.ids,1)),["stop","prevent"])},[b("div",yt,[T(p,{to:`/token/${n.token}-${n.chain}`,class:"flex no-underline items-center",onClick:l[10]||(l[10]=I((e=>w.value=!1),["stop","prevent"]))},{default:x((()=>[T(v,{row:n,tokenClass:"w-32px h-32px"},null,8,["row"]),b("span",wt,N(n.symbol),1)])),_:2},1032,["to"]),l[15]||(l[15]=b("div",{class:"flex-1"},null,-1)),T(t,{class:"delete text-16px cursor-pointer",name:"ic:baseline-delete"})]),(null==(a=n.children)?void 0:a.length)>0?(f(),$("ul",Ct,[(f(!0),$(P,null,E(null==n?void 0:n.children,((n,o)=>(f(),$("li",{class:"flex-start items-center text-14px py-8px px-8px color-[--main-text] hover:bg-[--dialog-list-hover] cursor-pointer",key:o,onClick:I((e=>re([n.id],0)),["stop","prevent"])},[T(t,{class:"text-16px",name:"custom:"+("up"==n.direction?"arrow-up":"arrow-down")},null,8,["name"]),b("span",St,"("+N("up"==n.direction?e.$t("gtPrice"):e.$t("ltPrice"))+")",1),b("span",Nt,"$"+N(("formatNumber"in e?e.formatNumber:k(de))(n.warning_price||0,{decimals:4,limit:6})),1),0==n.is_repeatable&&(null==n?void 0:n.notified_times)>=1?(f(),$("span",Pt,N(e.$t("expired2")),1)):(f(),$("span",Tt,N(0==n.is_repeatable?e.$t("once"):e.$t("duplicate")),1)),l[16]||(l[16]=b("div",{class:"flex-1"},null,-1)),T(t,{class:"delete-children text-14px cursor-pointer",name:"ic:baseline-delete"})],8,$t)))),128))])):_("",!0)],8,_t)})),256)),0!=(null==(n=k(le))?void 0:n.length)||k(u)?_("",!0):(f(),$("div",Ft,[T(t,{class:"text-40px",name:"custom:bell"}),b("span",At,N(e.$t("emptyAlert")),1)]))])]})),_:1})),[[V,k(u)]]),b("div",Mt,[b("span",Dt,N(k(d)),1),S("/100 "+N(e.$t("alerts1")),1)])]))]})),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-7f430c0f"]]),Vt={id:"tv_chart_container",ref:"kline",style:{width:"100%",height:"100%"}},It=pe(r({__name:"index",props:{isRank:{type:Boolean}},emits:["refresh"],setup(e,{emit:l}){const t=e,n=Ae(Me.KLINE_DATE_FILTER),o=t.isRank?Al():ne(),a=J(),r=De(),s=xe(),i=he(),d=c((()=>{var e;return t.isRank&&"klineRow"in o?null==(e=o.klineRow)?void 0:e.id:i.params.id})),v=u(""),p=u(!1);let m=!1,x=!1;const g=u(!1);ge({title:"1111",author:{name:"托儿列夫"},year:50});const y=c((()=>{var e,l;return(null==(e=ke(d.value))?void 0:e.chain)||(null==(l=null==o?void 0:o.token)?void 0:l.chain)||""})),w=c((()=>{var e,l;return(null==(e=ke(d.value))?void 0:e.address)||(null==(l=null==o?void 0:o.token)?void 0:l.token)})),C=c((()=>{var e,l,t,n,o;return(null==(n=null==(t=null==(l=null==(e=a.userInfo)?void 0:e.addresses)?void 0:l.find)?void 0:t.call(l,(e=>e.chain===y.value)))?void 0:n.address)||(null==(o=null==a?void 0:a.userInfo)?void 0:o.evmAddress)})),S=c((()=>{var e;return(null==(e=null==o?void 0:o.token)?void 0:e.symbol)||"-"})),N=c((()=>null==o?void 0:o.pairAddress)),F=c((()=>{var e;return(null==(e=null==o?void 0:o.pair)?void 0:e.amm)||""}));let M=!1;function D(){var e,l,t,n,a;m=!1,Se(),Pe();const r=N.value;if(p.value&&"token-id"===i.name){const s=y.value&&Ie.includes(y.value)||!1;O.value=Ee(O.value,y.value,s),G?(null==(e=null==G?void 0:G.resetCache)||e.call(G),null==(n=null==(t=null==(l=null==G?void 0:G.activeChart)?void 0:l.call(G))?void 0:t.clearMarks)||n.call(t),null==(a=null==G?void 0:G.setSymbol)||a.call(G,S.value+"---"+d.value+r+(o.selectedToken?"1":"0"),O.value,(()=>{m=!0}))):pe()}}se((()=>d.value),(e=>{var l,t;e&&(null==G?void 0:G.activeChart())&&(null==(t=null==(l=null==G?void 0:G.activeChart())?void 0:l.removeAllShapes)||t.call(l))})),se(N,(e=>{e!==v.value&&D()})),se((()=>o.selectedToken),(()=>{D()})),se(C,(()=>{var e,l,t,n,o,a;p.value&&"token-id"===i.name&&(null==(t=null==(l=null==(e=null==G?void 0:G.activeChart)?void 0:e.call(G))?void 0:l.clearMarks)||t.call(l),null==(a=null==(o=null==(n=null==G?void 0:G.activeChart)?void 0:n.call(G))?void 0:o.refreshMarks)||a.call(o))}));const B=Re(),V=oe();let R=null,L=0;const Y=new Map,O=z(localStorage.getItem("tv_resolution")||"15"),W=Le();let G=null;const U=re("tv_showMarket",!1);function j(){var e;m=!1,x=!1,R=null,L=0,Se(),Pe(),null==(e=null==G?void 0:G.remove)||e.call(G),pe()}se((()=>W.theme),(e=>{G&&(null==G||G.changeTheme(e).then((()=>{var e;Te(),null==(e=null==G?void 0:G.applyOverrides)||e.call(G,{"scalesProperties.textColor":W.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":Ze("--secondary-bg")})})))})),se((()=>V.locale),(()=>{j()}));let q=[];function K(){x&&(q.forEach((e=>{var l;null==(l=null==G?void 0:G.removeButton)||l.call(G,e)})),q=[],function(){const e=null==G?void 0:G.createButton();if(!e)return;const l=()=>{const l=U.value;e.innerHTML=`\n        <span style="font-size: 12px; cursor: pointer;">\n          ${l?'Price / <span style="color:#286DFF">MCap</span>':'<span style="color:#286DFF">Price</span> / MCap'}\n        </span>`};e.onclick=()=>{var e,t,n,o;U.value=!U.value,l(),null==(e=null==G?void 0:G.resetCache)||e.call(G),null==(o=null==(t=null==G?void 0:G.activeChart)?void 0:(n=t.call(G)).resetData)||o.call(n)},l(),q.push(e)}(),function(){const e=null==G?void 0:G.createButton({align:"right",useTradingViewStyle:!1});if(!e)return;const l=()=>{e.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;" onMouseOver="this.style.background=\'none\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>'};e.onclick=()=>{var e,l,t,n;g.value=!g.value,null==(e=null==G?void 0:G.resetCache)||e.call(G),null==(n=null==(l=null==G?void 0:G.activeChart)?void 0:(t=l.call(G)).resetData)||n.call(t)},l(),q.push(e)}(),function(){const e=null==G?void 0:G.createButton({align:"right",useTradingViewStyle:!1});if(!e)return;e.innerHTML='<div style="cursor:pointer"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n<path d="M15.2182 3.04349C13.7649 1.95145 11.9578 1.30436 10 1.30436C5.19744 1.30436 1.30437 5.197 1.30437 9.99998C1.30437 11.3595 1.61643 12.646 2.17263 13.7925L1.09227 14.549C0.394018 13.1844 0 11.6381 0 9.99998C0 4.47692 4.47711 0 9.99999 0C12.2907 0 14.4009 0.770215 16.0869 2.0652V0.650475C16.0869 0.29128 16.3765 0 16.7391 0C17.0996 0 17.3913 0.292122 17.3913 0.650475V3.69649C17.3913 3.87652 17.3191 4.03871 17.2015 4.15676C17.0822 4.27482 16.9195 4.34783 16.7404 4.34783H13.6944C13.3352 4.34783 13.0435 4.05826 13.0435 3.69567C13.0435 3.33563 13.3356 3.04351 13.6944 3.04351H15.2182V3.04349ZM4.78177 16.9565C6.23513 18.0486 8.04198 18.6957 9.99999 18.6957C14.8026 18.6957 18.6956 14.8021 18.6956 10C18.6956 8.89779 18.4906 7.84394 18.1169 6.87417L19.2136 6.1065C19.7202 7.30301 20 8.61839 20 10C20 15.5222 15.5227 20 10 20C7.70955 20 5.59912 19.2298 3.91308 17.9348V19.3487C3.91308 19.7087 3.62348 20 3.26089 20C2.90065 20 2.60873 19.7079 2.60873 19.3487V16.3026C2.60873 16.1235 2.68093 15.9605 2.79832 15.8432C2.91783 15.7252 3.08045 15.6521 3.25964 15.6521H6.30566C6.66508 15.6521 6.95657 15.9417 6.95657 16.3043C6.95657 16.6644 6.66444 16.9565 6.30566 16.9565H4.78177V16.9565Z" fill="#9CA1A8"/>\n</svg></div>',e.onclick=()=>{var e,l,t,n;ye.value=al.KLINE,null==(e=null==G?void 0:G.resetCache)||e.call(G),null==(n=null==(l=null==G?void 0:G.activeChart)?void 0:(t=l.call(G)).resetData)||n.call(t)},q.push(e)}(),Z(G,q))}const{createMarkButton:Z,getMarks:Q,marksTabs:ee,wsTxUpdateMarks:le,profilingMarksCache:te}=Ml();se(ee,(()=>{ie()}));let ae=0;function ie(){if(p.value)ae=0,K();else{if(ae>3)return;setTimeout((()=>{ae++,ie()}),500)}}let ue=!1,ve=0;async function pe(){var e,l,a;const u=(null==(l=null==(e=S.value)?void 0:e.toUpperCase)?void 0:l.call(e))||"-",c=y.value&&Ie.includes(y.value)||!1;O.value=Ee(O.value,y.value,c);const f=(null==(a=ce().globalConfig)?void 0:a.token_logo_url)||"https://www.iconaves.com/",h=await He();G=new h({symbol:u.replace("<","＜")||" ",debug:!1,width:"100%",height:"100%",interval:O.value,theme:W.theme,container:"tv_chart_container",library_path:`${f}charting_library-29.4.0/charting_library/`,locale:Oe(V.locale),disabled_features:["header_symbol_search","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar"],enabled_features:["request_only_visible_range_on_reset",...c?["seconds_resolution"]:[]],charts_storage_url:location.host,charts_storage_api_version:"1.1",timezone:Ye(),time_frames:[],loading_screen:{backgroundColor:W.isDark?"#0B0D12":"#F6F9FF",foregroundColor:"#3F80F7"},custom_css_url:`${location.origin}/tv_custom_1.css`,custom_formatters:{priceFormatterFactory:()=>({format:e=>U.value?de(e,{decimals:2,locale:"en"}):String(de(e,{decimals:4,limit:6,locale:"en"}))})},overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","scalesProperties.textColor":W.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":W.isDark?"#0B0D12":"#F6F9FF","paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"},datafeed:{onReady:e=>{const l=y.value&&Ie.includes(y.value),t={supported_resolutions:["1S","1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};l||(t.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"]),Te(),setTimeout((()=>e(t)),50)},resolveSymbol:(e,l,t)=>{var n,a,r,s,i,u,c,d,v,p;try{const e=!(!y.value||!(null==(a=null==(n=Ie)?void 0:n.includes)?void 0:a.call(n,y.value))),t=(null==(s=null==(r=S.value)?void 0:r.toUpperCase)?void 0:s.call(r))||(null==(i=null==o?void 0:o.token)?void 0:i.symbol)||"-",p=Number(null==o?void 0:o.price)||0,m={name:t,ticker:t,description:(null==(c=null==(u=null==t?void 0:t.split)?void 0:u.call(t,"---"))?void 0:c[0])||"",exchange:"Ave.ai",timezone:Ye(),format:U.value?"volume":"price",minmov:1,minmove2:0,pricescale:p>0?10**Ke(p).precision:1e10,volume_precision:2,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_seconds:e,seconds_multipliers:["1","5","15","30"],has_daily:!0,has_weekly_and_monthly:!0,supported_resolutions:["1S","1","5","15","30","60","120","240","1D","1W"],data_status:"streaming",visible_plots_set:"ohlcv",type:"crypto",listed_exchange:(null==(v=null==(d=ze)?void 0:d(y.value||"",F.value))?void 0:v.show_name)||""};e||(m.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"],m.seconds_multipliers=[]),setTimeout((()=>l(m)),0)}catch(m){t((null==(p=null==m?void 0:m.toString)?void 0:p.call(m))||"resolveSymbol err")}},getBars:(e,l,n,a,r)=>{var s,i,u;const{from:c,to:p,firstDataRequest:m}=n;try{if(m)ue=!1,R=null,L=0;else if(ue)return void a([],{noData:!0});const e={interval:We(l),token_id:d.value,from:c,to:m?0:Math.max(p,ve||0)},n=(null==(i=null==(s=Ge)?void 0:s.includes)?void 0:i.call(s,y.value))&&!t.isRank&&"tokenAllPair"in o&&(null==o?void 0:o.tokenAllPair)&&(null==o?void 0:o.selectedToken);n||(e.pair_id=N.value+"-"+y.value,delete e.token_id),M=!0;(n?Ue:je)(e).then((e=>{var l,t;const n=(null==e?void 0:e.kline_data)||[],r=(null==(l=null==n?void 0:n.map)?void 0:l.call(n,(e=>({time:1e3*e.time,open:U.value?new X(e.open||0).times((null==o?void 0:o.circulation)||0).toNumber():e.open,high:U.value?new X(e.high||0).times((null==o?void 0:o.circulation)||0).toNumber():e.high,low:U.value?new X(e.low||0).times((null==o?void 0:o.circulation)||0).toNumber():e.low,close:U.value?new X(e.close||0).times((null==o?void 0:o.circulation)||0).toNumber():e.close,volume:e.volume}))))||[];v.value=(null==e?void 0:e.pair)||"",m&&(R=(null==n?void 0:n[(null==n?void 0:n.length)-1])||null,L=Number((null==R?void 0:R.close)||0),R&&(R.time=1e3*R.time),ue=(null==r?void 0:r.length)<100),(null==n?void 0:n.length)>0&&(ve=(null==(t=null==n?void 0:n[0])?void 0:t.time)||0),a(r,{noData:!(null==r?void 0:r.length)}),setTimeout((()=>{qe("klineDataReady").emit()}),10)})).finally((()=>{M=!1}))}catch(f){r((null==(u=null==f?void 0:f.toString)?void 0:u.call(f))||"getBars err")}},subscribeBars:(e,l,t,n)=>{if(Y.has(d.value))return void fe(l,t);const{address:o,chain:a}=ke(d.value);let r=["multi_tx",o,a];vl.includes(a)&&(r=["simple_tx",{tks:[{ch:a,tk:o}],rt:"json"}]);const s={jsonrpc:"2.0",method:"subscribe",params:r,id:1};fe(l,t,B.send(s)),Y.set(d.value,s)},unsubscribeBars:e=>{var l;if(e){const e=Y.get(d.value)||{};if((null==(l=null==e?void 0:e.params)?void 0:l[1])===w.value)return;Y.forEach((e=>{var l;(null==(l=null==e?void 0:e.params)?void 0:l[1])!==w.value&&B.send({...e,method:"unsubscribe"})})),null==Y||Y.clear()}},searchSymbols:(e,l,t,n)=>{},getMarks:(e,l,t,n,o)=>{const a=We(o);Q({from:l,to:t,interval:a,pair:N.value,token:d.value,chain:y.value||"",user:C.value,onDataCallback:n})}}}),Je(),G.onChartReady((()=>{var e,l,t,n,o;p.value=!0,m=!0,W.isDark?null==(e=null==G?void 0:G.applyOverrides)||e.call(G,{"scalesProperties.textColor":"#d5d5d5"}):null==(l=null==G?void 0:G.applyOverrides)||l.call(G,{"scalesProperties.textColor":"#333"}),null==(n=null==(t=null==G?void 0:G.activeChart)?void 0:t.call(G))||n.onIntervalChanged().subscribe(null,(e=>{var l;O.value!==e&&(O.value=e,localStorage.setItem("tv_resolution",e),null==(l=null==G?void 0:G.resetCache)||l.call(G))})),Xe(G),Ne(),function(){if(null==G?void 0:G.activeChart){let e=JSON.parse((null==localStorage?void 0:localStorage[dl])||"[]");e=e.filter(((l,t)=>e.findIndex((e=>e.name===l.name))===t)),e.forEach((e=>{var l;null==(l=null==G?void 0:G.activeChart)||l.call(G).createStudy(e.name,!1,!1)}))}}(),null==(o=null==G?void 0:G.applyOverrides)||o.call(G,{"scalesProperties.textColor":W.isDark?"#d5d5d5":"#333","paneProperties.backgroundType":"solid","paneProperties.background":Ze("--secondary-bg")})})),null==G||G.headerReady().then((()=>{x=!0,K()})),null==G||G.subscribe("onMarkClick",(e=>{var l,t;const{token:n,symbol:a,logo_url:s,chain:u}=(null==(l=o.tokenInfo)?void 0:l.token)||{},{target_token:c,token0_address:d,token0_symbol:v,token1_symbol:p,pair:m}=o.pair||{};let f=C.value;for(const[,o]of te){const l=null==(t=o.find((l=>l.id===e)))?void 0:t.user_address;if(l){f=l;break}}const x={drawerVisible:!0,tokenInfo:{id:i.params.id,symbol:a,logo_url:s,chain:u,address:n},pairInfo:{target_token:c,token0_address:d,token0_symbol:v,token1_symbol:p,pairAddress:m},user_address:f};r.$patch(x)}));let b=0;G.subscribe("mouse_down",(()=>{b=performance.now()})),G.subscribe("mouse_up",(e=>{if(performance.now()-b>=200)return;const l=null==G?void 0:G.activeChart().getTimeScale().coordinateToTime(e.clientX-56);if(l&&O.value){const e=Qe[O.value]||{val:O.value,unit:"m"},t=el(1e3*l).add(e.val,e.unit).unix();s.isClickKlineFilter&&(null==n?void 0:n.value)&&(n.value=[String(l),String(t)])}})),null==G||G.subscribe("study_event",((e,l)=>{"create"!==l&&"remove"!==l||me||function(){var e;if(null==G?void 0:G.activeChart){let l=(null==(e=null==G?void 0:G.activeChart)?void 0:e.call(G).getAllStudies())||[];l=l.filter(((e,t)=>l.findIndex((l=>l.name===e.name))===t)),localStorage.setItem(dl,JSON.stringify(l.filter((e=>"Volume"!==e.name))))}}()})),window.onbeforeunload=()=>{me=!0}}let me=!1;function fe(e,l,t=B.getWSInstance()){null==t||t.onmessage((t=>{var n,a,r,s,i,u;const c=ll(t);if(!c)return;const{event:v,data:p}=c;if(v===tl.SIMPLE_TX||v===tl.TX){const t=(null==p?void 0:p.msg)||(null==p?void 0:p.tx),c=We(e),v=null==(n=ke(d.value))?void 0:n.address;let m="";if(m="target"in t?t.target:[t.from_address,t.to_address].find((e=>e===v))||"",m===v&&!M){const e="pair"in t?t.pair:t.pair_address,n="price_u"in t?Number(t.price_u||0):Number((null==(r=null==(a=t.from_address)?void 0:a.toLowerCase)?void 0:r.call(a))===(null==(u=null==(i=null==(s=o.token)?void 0:s.token)?void 0:i.toLowerCase)?void 0:u.call(i))?t.from_price_usd:t.to_price_usd)||0;if(e===N.value&&(L=n),e!==N.value){const e=n;if(!L&&Math.abs(e-L)>.35*L)return}o.tokenPrice=n;const d=nl(t,v,R,c);d&&(R={...d});const p={...d};U.value&&p&&(p.open=new X(p.open||0).times((null==o?void 0:o.circulation)||0).toNumber(),p.high=new X(p.high||0).times((null==o?void 0:o.circulation)||0).toNumber(),p.low=new X(p.low||0).times((null==o?void 0:o.circulation)||0).toNumber(),p.close=new X(p.close||0).times((null==o?void 0:o.circulation)||0).toNumber()),p&&(null==p?void 0:p.time)&&l(p)}le({tx:t,interval:Number(c),user:C.value},G)}}),"kline")}let be=!1;const ye=ol("kHeight",al.KLINE),we=rl().height,Ce=sl("kline");function $e(e){let l=e.clientY;if(be=!0,!Ce)return;const{height:t}=pl(Ce);return ye.value=t.value,document.onmousemove=e=>{if(!be)return;if(e.clientY>we.value)return void(be=!1);document.getElementById("tv_chart_container").style.pointerEvents="none";const t=e.clientY<l?ye.value-(l-e.clientY):ye.value+e.clientY-l;t<=we.value-164&&(ye.value=t),l=e.clientY},document.onmouseup=()=>{document.getElementById("tv_chart_container").style.pointerEvents="auto",be=!1,document.onmousemove=null,document.onmouseup=null,o.centerTopHeight=ye.value},!1}const{resetLimitPriceLineId:Se,subscribePriceMove:Ne}=Be((()=>G),(()=>m),U),{resetAvgPriceLineId:Pe}=Ve((()=>G),(()=>m),U);function Te(){var e;const l=document.querySelector("#tv_chart_container iframe"),t=null==(e=null==l?void 0:l.contentWindow)?void 0:e.document.documentElement;t&&t.style.setProperty("--secondary-bg",Ze("--secondary-bg"))}il((()=>G),(()=>m),U),ul((()=>{me=!0})),_e((()=>{pe(),gl((()=>{var e,l,t,n;null==(e=null==G?void 0:G.resetCache)||e.call(G),null==(n=null==(l=null==G?void 0:G.activeChart)?void 0:(t=l.call(G)).resetData)||n.call(t)}))}));const Fe=l;function ml(){Fe("refresh"),j()}return(e,l)=>(f(),$(P,null,[b("div",{class:"relative",style:cl({height:`${e.isRank?390:k(ye)}px`})},[b("div",Vt,null,512),h(T(Gl,{isRank:e.isRank,onRefresh:ml},null,8,["isRank"]),[[A,k(p)]]),T(Bt,{modelValue:k(g),"onUpdate:modelValue":l[0]||(l[0]=e=>H(g)?g.value=e:null)},null,8,["modelValue"])],4),e.isRank?_("",!0):(f(),$("div",{key:0,class:"w-full cursor-row-resize bg-[--border] gap-1px hover:bg-[--third-text] flex items-center justify-center h-4px",onMousedown:I($e,["stop","prevent"])},[(f(),$(P,null,E(4,(e=>b("span",{key:e,class:"bg-[--icon-color] w-2px h-2px rounded-full"}))),64))],32))],64))}}),[["__scopeId","data-v-8fb9037a"]]);export{wl as E,It as K,$l as _,Fl as a,Pl as b,Sl as c,Nl as d,Tl as g,Al as u};
