import{f as e,v as l,r as a,ak as t,aD as o,y as r,g as s,cR as n,bN as i,K as d,o as u,Q as p,w as m,O as c,ap as v,i as _,bg as h,J as g,b as f,bh as x,a as y,t as k,oL as w,c as b,F as $,D as V,P as C,H as T,d as N,e8 as j,_ as z,aE as A,j as F,U as B,n as S,m as E,mX as R,aF as U,aY as H,a3 as O,a_ as L,a$ as W,b0 as K,b1 as P,B as q,s as D,C as G,a5 as I,aO as M,aI as J,aJ as Q,bM as Z,aZ as X,a1 as Y,aH as ee,bu as le,G as ae,an as te,x as oe,p as re,oM as se,ao as ne,oN as ie,mO as de,aN as ue,N as pe,aw as me,aR as ce,a6 as ve,aa as _e,lO as he,ab as ge,a9 as fe,au as xe}from"./BMSK5C5y.js";import{a as ye,E as ke}from"./BdS7cyBg.js";import{_ as we}from"./ciXljpNi.js";import{_ as be}from"./BiU2aZLt.js";import{_ as $e}from"./DD-XYB1q.js";import{a as Ve,E as Ce}from"./Cpzxt1AK.js";import"./Deprqz-m.js";import"./ByCXp7NP.js";import{S as Te}from"./CdhAxLLr.js";import{u as Ne}from"./u9DUpS1b.js";import{E as je}from"./DpI-b_ic.js";import{u as ze}from"./Dat2Ri8e.js";import"./B3rSGlmP.js";import"./CujBmTjQ.js";import"./Bsq7yqCW.js";import"./CY_l4B6l.js";import"./vHli57K2.js";import"./CVjmEhSB.js";import"./BORAklqS.js";import"./GAtzQN7T.js";import"./SKROQk02.js";import"./Bu7F9GSa.js";import"./BIdCwWzs.js";import"./Dq5Ef5-C.js";import"./D-CfxHwt.js";import"./2WBAI432.js";import"./BjjPKoZw.js";import"./DInKODbZ.js";import"./DSXY0Md2.js";import"./DSNyfR7g.js";import"./DxcCkZEi.js";import"./Bah31ezX.js";import"./DnMUV1Sa.js";import"./kkUurM9C.js";import"./ywAfHpAx.js";const Ae={class:"flex justify-between items-center w-100%"},Fe={class:"font-500 text-12px lh-[120%] color-[--main-text]"},Be={class:"h-12px inline-flex items-center"},Se=["src"],Ee=["src"],Re={class:"flex-between w-100%"},Ue=z(e({__name:"addFavAddressPop",props:{width:{type:String,default:"248"},formData:{type:Object,required:!1,default:()=>({group_id:0,user_chain:{label:"SOL",value:"solana",id:"solana"}})},buttonRef:{type:Object,required:!0},title:{type:String,default:""}},emits:["onConfirm","onCancel"],setup(e,{expose:z,emit:A}){const{t:F}=l(),B=e,S=A,E=a(),{addressGroups:R}=t(o()),{lang:U,token_logo_url:H}=t(r()),O=a(),L=a({...B.formData}),W=a(!1),K=a(!1),P=a(""),q=(e,l,a)=>{var t;""===l?a(new Error(F("cannotBeEmpty"))):j(l,null==(t=L.value.user_chain)?void 0:t.id)?a():a(new Error(F("pleaseEnterCorrectAddress")))},D=(e,l,a)=>{var t;L.value.address&&(null==(t=O.value)||t.validateField("address")),a()},G=s((()=>({user_chain:[{validator:D,trigger:"change"}],address:[{required:!0,message:"zh-cn"==U.value||"zh-tw"==U.value?`${F("watchAddress")}${F("cannotBeEmpty")}`:`${F("watchAddress")} ${F("cannotBeEmpty")}`,trigger:["blur"]},{validator:q,trigger:"blur"}],group:[{required:!0,message:"zh-cn"==U.value||"zh-tw"==U.value?`${F("walletGroup")}${F("cannotBeEmpty")}`:`${F("walletGroup")} ${F("cannotBeEmpty")}`,trigger:["blur","change"]}],remark:[{required:!0,message:"zh-cn"==U.value||"zh-tw"==U.value?`${F("remark")}${F("cannotBeEmpty")}`:`${F("remark")} ${F("cannotBeEmpty")}`,trigger:"blur"},{pattern:/^(?!.*[!@#$%^&*(),.?":{}|<>])(.{2,50})$/,message:F("remarkError"),trigger:["blur"]}]}))),I=s((()=>n.map((e=>{const l=i(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.chain_id,id:l.net_name}}))));function M(){K.value=!1}function J(){var e;S("onCancel"),null==(e=O.value)||e.resetFields(),Z()}function Q(){W.value=!1,P.value="",L.value={...B.formData}}function Z(){var e,l;null==(l=null==(e=_(E))?void 0:e.hide)||l.call(e)}return z({close:Z}),(e,l)=>{const a=Ce,t=Ve,o=x,r=C,s=T,n=h,i=p,j=v;return u(),d(i,{ref_key:"popoverRef",ref:E,width:null==B?void 0:B.width,trigger:"click",placement:"bottom","virtual-ref":B.buttonRef,"virtual-triggering":"",title:null==B?void 0:B.title,persistent:!1,"popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)",onBeforeLeave:Q},{default:m((()=>[c((u(),d(n,{ref_key:"formRef",ref:O,model:_(L),rules:_(G),onSubmit:l[4]||(l[4]=g((e=>{var l;(l=_(O))&&l.validate(((e,l)=>{var a;e&&(K.value=!0,S("onConfirm",L.value,null==(a=O.value)?void 0:a.resetFields,M))}))}),["prevent","stop"]))},{default:m((()=>[f(o,{prop:"user_chain",required:"","label-position":"top",size:"large",class:"mb-13px!"},{default:m((()=>[y("div",Ae,[y("h4",Fe,k(e.$t("addWallet")),1),f(t,{modelValue:_(L).user_chain,"onUpdate:modelValue":l[0]||(l[0]=e=>_(L).user_chain=e),placeholder:_(F)("placeholderPrefix1")+_(F)("chain"),"value-key":"value",size:"small",style:{"--el-fill-color-blank":"var(--border)"},"suffix-icon":_(w),class:"w-70px!",teleported:!1,"popper-class":"w-103px"},{prefix:m((()=>{var e;return[y("div",Be,[y("img",{src:`${_(H)}chain/${null==(e=_(L).user_chain)?void 0:e.id}.png`,class:"rd-50%",width:"12",lazy:"",alt:""},null,8,Se)])]})),default:m((()=>[(u(!0),b($,null,V(_(I),(e=>(u(),d(a,{key:e.value,label:e.label,value:e,class:"h-26px! flex! items-center! font-500! text-14px! lh-none!"},{default:m((()=>[y("img",{src:`${_(H)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Ee),y("span",null,k(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","suffix-icon"])])])),_:1}),f(o,{prop:"address",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m((()=>[f(r,{modelValue:_(L).address,"onUpdate:modelValue":l[1]||(l[1]=e=>_(L).address=e),placeholder:_(F)("placeholderPrefix")+_(F)("walletAddress")},null,8,["modelValue","placeholder"])])),_:1}),f(o,{prop:"remark",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m((()=>[f(r,{modelValue:_(L).remark,"onUpdate:modelValue":l[2]||(l[2]=e=>_(L).remark=e),placeholder:_(F)("placeholderPrefix")+_(F)("remark")},null,8,["modelValue","placeholder"])])),_:1}),f(o,{prop:"group_id",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m((()=>[f(t,{modelValue:_(L).group_id,"onUpdate:modelValue":l[3]||(l[3]=e=>_(L).group_id=e),placeholder:_(F)("placeholderPrefix1")+_(F)("addrGroup"),teleported:!1,style:{"--el-fill-color-blank":"var(--border)"}},{default:m((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(u(!0),b($,null,V(_(R),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1}),f(o,{class:"mb-0px!"},{default:m((()=>[y("div",Re,[f(s,{class:"flex-1",onClick:g(J,["stop","prevent"])},{default:m((()=>[N(k(e.$t("cancel")),1)])),_:1}),f(s,{type:"primary",class:"flex-1","native-type":"submit"},{default:m((()=>[N(k(e.$t("confirm")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])),[[j,_(K)]])])),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-ad26cc26"]]),He={class:"flex justify-between items-center gap-8px h-54px"},Oe={class:"text-12px m-table","element-loading-background":"transparent"},Le=["onClick"],We=["src"],Ke={class:"text-12px"},Pe=["onClick"],qe={key:2,class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},De={key:1,class:"flex items-center mr-4px cursor-not-allowed"},Ge=z(e({__name:"walletManage",props:{scrollHeight:{type:Number,default:500},isLarge:{type:Boolean,default:!1}},setup(e){const{t:h}=l(),x=A(),w=e,{mode:C,isDark:j,token_logo_url:z}=t(r()),Y=s((()=>[{label:h("allChain"),value:"AllChains",id:"allChains"},...n.map((e=>{const l=i(e);return{label:"solana"===e?"SOL":l.net_name.toUpperCase(),value:l.net_name,id:l.net_name}}))])),ee=a(!1),le=a(),ae=a(),{selectGroupId:te,paginationParams:oe,user_chain:re,monitorList1:se}=t(Ne()),{currentAddress:ne,showBatchAddressDetails:ie,updateNum1:de,updateNum2:ue,updateNum3:pe,addressGroups:me}=t(o()),ce=F({group:te.value,activeTab:"7d",isMonitor:!1,user_chain:re.value,sort:"",sort_dir:"",keyword:"",last_tx_time_max:"",last_tx_time_min:"",last_trade_time:""}),ve=B(),_e=a(!1),he=a(!1),ge=s((()=>oe.value.loaded?h("loading"):oe.value.finished?h("noMore"):""));function fe(e,l,a){var t;Z({address:ve.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:e.address,remark:e.remark,group:e.group_id,is_monitored:0}).then((()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=ae.value)?void 0:e.close)||t.call(e),oe.value={...R,pageSize:50},we(),ue.value++})).catch((e=>{}))}S((()=>{ve.evmAddress&&(se.value.length>0||we())})),E((()=>de.value+pe.value),(()=>{oe.value={...R,pageSize:50},we()}));const xe=U((e=>{H({address:ne.value,user_chain:e.chain,user_address:e.user_address}).then((()=>{O.success(h("success")),we(),ue.value++})).catch((e=>{O.error(String(e))}))}),1e3),ye=U(((e,l=0)=>{if(1!==e.is_monitored){const{user_address:a,user_chain:t}=e;K({address:a,chain:t,user_address:ve.evmAddress}).then((()=>{se.value[l].is_monitored=0===e.is_monitored?1:0,we(),O.success(h("success")),ue.value++})).catch((e=>{O.error(String(e))}))}else{const{id:a,user_address:t}=e;(1===e.is_pause?L:W)({uid:a,address:t}).then((()=>{se.value[l].is_monitored=0===e.is_monitored?1:0,we(),ue.value++,O.success(h("success"))})).catch((e=>{O.error(String(e))}))}}),1e3);function ke(e){he.value=e<=20,e<=20&&!oe.value.loaded&&!oe.value.finished&&we()}E([()=>ce],(()=>{oe.value={...R,pageSize:50},we()}),{deep:!0});const we=U((function(){if(1===oe.value.pageNO&&(_e.value=!0),oe.value.loaded)return;oe.value.loaded=!0;const e=oe.value.pageNO,l=oe.value.pageSize;P({...ce,pageNO:e,pageSize:l}).then((a=>{var t,o;const r=(null==a?void 0:a.data)||[];Array.isArray(r)&&(null==r?void 0:r.length)>0?(1===e?(se.value=r.map((e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ce.group}))),_e.value=!1):se.value=[...se.value].concat(null==(o=null==(t=r.filter)?void 0:t.call(r,(e=>{var l,a;return null==(a=null==(l=se.value)?void 0:l.every)?void 0:a.call(l,(l=>l.index!==`${e.user_address}-${e.user_chain}`))})))?void 0:o.map((e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ce.group})))),oe.value.finished=(null==r?void 0:r.length)<l,oe.value.finished||oe.value.pageNO++):(1===e&&(se.value=[]),oe.value.finished=!0)})).finally((()=>{setTimeout((()=>{_e.value=!1,oe.value.loaded=!1,he.value=!1}),200)}))}),500);const be=s((()=>[{title:h("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:h("addrGroup"),dataKey:"group",key:"group",minWidth:90,align:"right"},{title:h("chain"),dataKey:"chain",key:"chain",align:"right",minWidth:55},{title:h("operate"),dataKey:"operate",key:"operate",align:"right",minWidth:40}]));return(e,l)=>{const a=Ce,t=Ve,o=G,r=T,s=J,n=Q,j=p,A=$e,F=Ue,B=v;return u(),b("div",null,[y("div",He,[f(t,{modelValue:_(te),"onUpdate:modelValue":l[0]||(l[0]=e=>D(te)?te.value=e:null),style:{"--el-fill-color-blank":"var(--dialog-list-hover)"},mode:_(C),onClick:l[1]||(l[1]=g((()=>{}),["stop"])),onChange:l[2]||(l[2]=e=>function(e){ce.group=e}(e))},{default:m((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup"),class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(u(!0),b($,null,V(_(me),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"])))),128))])),_:1},8,["modelValue","mode"]),f(r,{ref_key:"addButtonRef",ref:le,class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","font-size":"12px"}},{default:m((()=>[f(o,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),N(" "+k(e.$t("addWallet")),1)])),_:1},512),f(r,{class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","margin-left":"0px","font-size":"12px"},onClick:l[3]||(l[3]=g((e=>ie.value=!0),["stop","prevent"]))},{default:m((()=>[f(o,{name:"mingcute:new-folder-fill",class:"text-12px mr-5px"}),N(" "+k(e.$t("bulkImport")),1)])),_:1})]),c((u(),b("div",Oe,[f(A,{ref:"aveTableRef",rowKey:"index",fixed:"",data:_(se),showFooter:_(he),footText:_(ge),columns:_(be),headerHeight:36,rowHeight:40,headerClass:"bg-transparent",style:I({height:w.scrollHeight-50+"px","--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:_(he)?"20px":"0px"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:({rowData:e})=>{return l=e,void x.push({path:`/address/${l.user_address}/${l.user_chain}`});var l}},onEndReached:ke},{"header-wallet":m((()=>[y("span",null,k(e.$t("wallet")),1)])),"cell-wallet":m((({row:e})=>[(u(),d(s,{key:e.user_address+e.user_chain,class:"mr-10px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"])),y("div",null,[(u(),d(n,{key:e.user_address+e.user_chain,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis",addressStyle:"max-width: 60px;font-size: 14px;color:var(--main-text)",iconEditColor:"var(--third-text)",iconEditSize:"10px",showAddressTitle:""},null,8,["remark","address","chain"]))])])),"header-group":m((()=>[y("span",null,k(e.$t("addrGroup")),1)])),"cell-group":m((({row:o})=>[f(t,{modelValue:o.group_id,"onUpdate:modelValue":e=>o.group_id=e,size:"small","suffix-icon":Te,filterable:"","popper-class":"w-addrGroup",class:"[&&]:[--el-text-color-regular:--main-text] [&&]:[--el-fill-color-blank:--dialog-list-hover]",onClick:l[4]||(l[4]=g((()=>{}),["stop"])),onChange:e=>(async(e,l)=>{oe.value={...R,pageSize:50},await X({user_chain:l.user_chain,user_address:l.user_address,group:e}),ue.value++,we()})(e,o)},{default:m((()=>[(u(),d(a,{key:0,value:0,label:e.$t("defaultGroup"),filterable:"",class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(u(!0),b($,null,V(_(me),(e=>(u(),d(a,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),"header-chain":m((()=>[y("span",null,k(e.$t("chain")),1),f(j,{visible:_(ee),"onUpdate:visible":l[5]||(l[5]=e=>D(ee)?ee.value=e:null),"popper-style":"width: 133px;min-width: 133px;",trigger:"click"},{reference:m((()=>[f(o,{id:"custom-filter",name:"custom:filter",style:I({color:"AllChains"!==_(ce).user_chain?"var(--secondary-text)":"var(--third-text)"}),class:"text-10px cursor-pointer ml-2px"},null,8,["style"])])),default:m((()=>[y("ul",null,[(u(!0),b($,null,V(_(Y),(e=>(u(),b("li",{key:e.value,class:"rounded-2px hover:bg-[--dialog-list-hover] h-26px! flex! items-center! font-500! text-14px! lh-20px! clickable px-8px py-5px",onClick:g((l=>{_(ce).user_chain=e.value,re.value=e.value,ee.value=!1}),["stop"])},["AllChains"==e.value?(u(),d(o,{key:0,name:"icon-park-outline:link-one",class:"text-15px mr-4px rd-50%"})):(u(),b("img",{key:1,src:`${_(z)}chain/${null==e?void 0:e.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,We)),y("span",null,k(e.label),1)],8,Le)))),128))])])),_:1},8,["visible"])])),"cell-chain":m((({row:l})=>[y("span",Ke,k(("getChainInfo"in e?e.getChainInfo:_(i))(l.user_chain).name),1)])),"header-operate":m((()=>[y("span",null,k(e.$t("operate")),1)])),"cell-operate":m((({row:a,rowIndex:t})=>[y("div",{class:"flex justify-end items-center",onClick:l[6]||(l[6]=g((()=>{}),["stop"]))},[("SupportMonitorChain"in e?e.SupportMonitorChain:_(M)).includes(null==a?void 0:a.user_chain)?(u(),b("div",{key:0,class:"flex items-center mr-4px cursor-pointer color-[--third-text]",onClick:g((e=>_(ye)(a,t)),["stop","prevent"])},[1===(null==a?void 0:a.is_monitored)?(u(),d(o,{key:0,name:"custom:monitor2-icon",class:"text-12px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})):(u(),d(o,{key:1,name:"custom:monitor-icon",class:"text-14px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})),w.isLarge?(u(),b("span",qe,k(1===(null==a?void 0:a.is_monitored)?_(h)("pause"):_(h)("enable")),1)):q("",!0)],8,Pe)):(u(),b("div",De,[f(o,{name:"custom:monitor-icon",class:"text-14px mr-2px color-[var(--d-666-l-CCC)]"})])),f(o,{name:"bx:bxs-trash-alt",class:"text-13px color-[--third-text]",onClick:g((e=>_(xe)(a)),["stop","prevent"])},null,8,["onClick"])])])),_:1},8,["data","showFooter","footText","columns","style","rowEventHandlers"])])),[[B,_(_e)]]),_(le)?(u(),d(F,{key:0,ref_key:"addFavAddressPopRef",ref:ae,buttonRef:_(le),onOnConfirm:fe},null,8,["buttonRef"])):q("",!0)])}}}),[["__scopeId","data-v-620e40de"]]),Ie=e({__name:"quickBuyInput",props:{modelValue:{type:String,default:"0.01"},size:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=l,o=s({get:()=>a.modelValue,set(e){t("update:modelValue",e)}});function r(e){o.value=e.replace(/-|[^\d.]/g,"")}function n(){var e;const l=null==(e=new Y(o.value||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?")))?void 0:e[0];String(o.value)!==String(l)&&(""===o.value?o.value="":0===Number(l)?o.value="0":o.value=l||"0")}return(l,a)=>{const t=G,s=C;return u(),d(s,{modelValue:_(o),"onUpdate:modelValue":a[0]||(a[0]=e=>D(o)?o.value=e:null),modelModifiers:{trim:!0},size:e.size,clearable:"",placeholder:"0",class:"[&&]:[--el-input-bg-color:--dialog-list-hover] [--el-component-size-small:22px] [&&]:[--el-input-width:88px] [--el-text-color-regular:--secondary-text] [--el-input-icon-color:--secondary-text] [--el-text-color-placeholder:--secondary-text] [--el-border-color:transparent]",onInput:r,onBlur:n},{prefix:m((()=>[f(t,{name:"mynaui:lightning-solid"})])),_:1},8,["modelValue","size"])}}}),Me=e({__name:"checkboxGroup",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},inline:{type:Boolean,default:!1},all:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=e,o=s({get:()=>t.modelValue,set:e=>r("update:modelValue",e)}),r=l,n=a(!1),i=a(!0),p=e=>{o.value=e?t.options.map((e=>e.value)):[],i.value=!1},c=e=>{if(!t.all)return;const l=e.length;n.value=l===t.options.length,i.value=l>0&&l<t.options.length};return(e,l)=>{const a=ee,r=le;return u(),b($,null,[t.options.length&&t.all?(u(),d(a,{key:0,modelValue:_(n),"onUpdate:modelValue":l[0]||(l[0]=e=>D(n)?n.value=e:null),indeterminate:_(i),disabled:_(n),onChange:p},{default:m((()=>[N(k(e.$t("all")),1)])),_:1},8,["modelValue","indeterminate","disabled"])):q("",!0),f(r,{modelValue:_(o),"onUpdate:modelValue":l[1]||(l[1]=e=>D(o)?o.value=e:null),min:1,class:ae([t.inline?"flex flex-row":"flex flex-col"]),onChange:c},{default:m((()=>[(u(!0),b($,null,V(t.options,(e=>(u(),d(a,{key:e.value,label:e.label,value:e.value},{default:m((()=>[N(k(e.label),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","class"])],64)}}}),Je=e({__name:"filterType",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,t=s({get:()=>a.modelValue,set:e=>o("update:modelValue",e)}),o=l;return(e,l)=>{const o=G,r=Me,s=je;return u(),d(s,{trigger:"click","popper-class":"w-filterType"},{dropdown:m((()=>[f(r,{modelValue:_(t),"onUpdate:modelValue":l[0]||(l[0]=e=>D(t)?t.value=e:null),options:a.options},null,8,["modelValue","options"])])),default:m((()=>[f(o,{id:"custom-filter",name:"custom:filter",class:"text-12px cursor-pointer color-[--secondary-text]"})])),_:1})}}}),Qe={class:"text-12px mt-10px color-[--third-text]"},Ze={key:0,class:"text-12px m-table","element-loading-background":"transparent"},Xe={key:0},Ye={key:1},el={class:"color-#FFA622"},ll={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},al={key:1,class:"text-12px m-table","element-loading-background":"transparent"},tl={class:"flex-between w-100%"},ol={class:"flex-start gap-8px"},rl={class:"flex flex-col w-100% gap-8px"},sl={class:"flex-between"},nl={class:"flex-between"},il={class:"flex-start gap-4px"},dl={class:"color-[--third-text]"},ul={class:"color-[--main-text]"},pl={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},ml={class:"color-[--third-text]"},cl={class:"color-[--main-text]"},vl={key:0},_l={key:1},hl={class:"color-#FFA622"},gl={class:"text-12px mt-10px"},fl={class:"m-op flex-end gap-8px w-100% h-100%"},xl=z(e({__name:"index",props:{scrollHeight:{type:Number,default:0},isLarge:{type:Boolean,default:!1}},setup(e){const{t:n}=l(),{hasRing:i,monitorList2:p,visible:h,activeName:x,txType:w,isLeftFixed:V,isRightFixed:C}=t(Ne()),{updateNum3:j}=t(o()),{isDark:z,audioSettings:A}=t(r()),F=e,R=a([]),H=a(!1),O=B(),L=te(),W=a(null),K=a(!0),P=a(),M=a(!1),J=a(),X=oe("quickBuyValue","0.01"),ee=s((()=>[{label:n("buy"),value:0},{label:n("sell"),value:1}])),le=s((()=>({scrollHeight:F.scrollHeight})));function Ve(e){1===e&&Ae()}function Ce(e,l,a){var t;Z({address:O.evmAddress,user_chain:null==(t=null==e?void 0:e.user_chain)?void 0:t.id,user_address:null==e?void 0:e.address,remark:null==e?void 0:e.remark,group:null==e?void 0:e.group_id,is_monitored:0}).then((()=>{var e,t;null==l||l(),null==a||a(),null==(t=null==(e=J.value)?void 0:e.close)||t.call(e),j.value++})).catch((e=>{}))}S((async()=>{re((()=>{})),Fe()})),ze((()=>{O.bot_subscribe(),h.value&&1===x.value&&Ae()})),E((()=>w.value),(e=>{const l=[];e.includes(0)&&l.push("buy"),e.includes(1)&&l.push("sell"),se(l).then((()=>{Be()}))})),E((()=>h.value),(e=>{e&&1===x.value&&(Ae(),re((()=>{!K.value&&W.value&&W.value.scrollToTop(0),K.value=!1})))}));const Te=s((()=>F.isLarge?[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:n("type"),dataKey:"type",key:"type",minWidth:110,align:"right"},{title:n("value"),dataKey:"amount",key:"amount",align:"right",minWidth:80},{title:n("token"),dataKey:"symbol",key:"symbol",align:"right",minWidth:150},{title:n("mcap"),dataKey:"mc",key:"mc",align:"right",minWidth:70},{title:n("time"),dataKey:"time",key:"time",align:"right",minWidth:40},{title:"",dataKey:"operate",key:"operate",align:"right",minWidth:100}]:[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:240}]));E((()=>L.wsResult[ne.MONITOR]),(e=>{je(e),h.value&&1===x.value&&Ae()}));const je=e=>{var l,a,t,o,r;if((null==e?void 0:e.length)>0){const s=(null==p?void 0:p.value)||[],n=[...(null==(t=null==(a=null==(l=null==e?void 0:e.filter)?void 0:l.call(e,(e=>!s.some((l=>l.id===e.id)))))?void 0:a.map)?void 0:t.call(a,(e=>({...e,...Re(e)}))))||[],...s];n.length>200&&(null==(o=null==n?void 0:n.splice)||o.call(n,100)),p.value.splice(0,null==(r=p.value)?void 0:r.length,...n)}},Ae=U((function(){var e;h.value&&1===x.value&&R.value.splice(0,null==(e=R.value)?void 0:e.length,...p.value)}),500);function Fe(){Be()}function Be(){if(!O.evmAddress)return;H.value=!0;let e="";w.value.length!==ee.value.length&&(e=w.value.join(",")),ie(e?{filtered_type:e}:{}).then((e=>{var l;let a=e||(null==e?void 0:e.data)||[];const t=[],o={};a=Array.isArray(a)?a:[],null==(l=null==a?void 0:a.forEach)||l.call(a,(e=>{const l=JSON.parse(e.msg_content);o[l.id]||(t.push({...l,...Re(l)}),o[l.id]=!0)})),p.value=t.filter((e=>w.value.includes(e.tx_type))),Ae()})).catch((e=>{})).finally((()=>{H.value=!1}))}function Se(e){return void 0!==e.position_type?0===e.position_type||1===e.position_type:0===e.tx_type}function Ee(e){if(void 0!==e.position_type){const l=[n("createPosition"),n("addPosition"),n("reducePosition"),n("closePosition")];return(null==l?void 0:l[Number(null==e?void 0:e.position_type)])||""}{const l=[n("buy"),n("sell")];return(null==l?void 0:l[Number(e.tx_type)])||""}}E((()=>O.evmAddress),(e=>{e?Fe():R.value=[]}));const Re=function(e){const l=Se(e),a={...e,_marker:{maker_address:(null==e?void 0:e.maker_address)||(null==e?void 0:e.wallet_address),maker_alias:null==e?void 0:e.maker_alias,maker_logo:null==e?void 0:e.maker_logo,maker_tags:null==e?void 0:e.maker_tags,isBuy:l},_profit:"--"==(null==e?void 0:e.pnl_usd)?"--":"$"+ue(Math.abs((null==e?void 0:e.pnl_usd)||0)||0,2),_profit_ratio:"--"==(null==e?void 0:e.pnl_usd)?"--":ue(100*((null==e?void 0:e.pnl_ratio)||0)||0,2,4,4)+"%",_mc:Number(null==e?void 0:e.target_mcap)?"$"+de((null==e?void 0:e.target_mcap)||0,{decimals:0,limit:3}):"--",_type:Ee(e),_rise:"--"==(null==e?void 0:e.pnl_usd)||(null==e?void 0:e.pnl_usd)>=0};return a._main_Token={amount:ue(e[l?"from_amount":"to_amount"]||0,1),price:"$"+ue(e[l?"from_price_usd":"to_price_usd"]||0),symbol:e[l?"from_symbol":"to_symbol"],total:"$"+ue(new Y(e[l?"from_amount":"to_amount"]||0).times(e[l?"from_price_usd":"to_price_usd"]||0).toFixed(0)||0,2,4,4),address:e[l?"from_address":"to_address"],tags:e[l?"from_tags":"to_tags"],signals:e[l?"from_signals":"to_signals"]},a._target_Token={amount:ue(e[l?"to_amount":"from_amount"]||0,1),price:"$"+ue(e[l?"to_price_usd":"from_price_usd"]||0),total:"",symbol:e[l?"to_symbol":"from_symbol"],address:e[l?"to_address":"from_address"],tags:e[l?"to_tags":"from_tags"],signals:e[l?"to_signals":"from_signals"],logo_url:e[l?"to_logo":"from_logo"]},a};function He(e,l){var a;l&&l.stopPropagation();const t=(null==e?void 0:e.chain)||"eth",o=(null==(a=null==e?void 0:e._marker)?void 0:a.maker_address)||(null==e?void 0:e.wallet_address);o&&xe(`/address/${o}/${t}`)}function Oe({e:e,rowData:l}){var a;e&&e.stopPropagation();const t=(null==(a=null==l?void 0:l._target_Token)?void 0:a.address)+"-"+l.chain;xe(`/token/${t}`,{replace:!0})}return(l,a)=>{const t=G,o=T,r=ce,s=ye,n=Q,i=we,p=ge,j=ve,B=be,S=$e,E=ke,U=Ue,L=pe("tooltip"),K=v;return u(),b("div",{class:ae(["w-monitor bg-[--secondary-bg] w-100% h-100% pl-12px pr-6px relative overflow-hidden",{"pr-10px!":_(V),"pl-10px!":_(C)}])},[f(t,{name:"custom:drag2",class:"absolute top-3px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),f(E,{modelValue:_(x),"onUpdate:modelValue":a[12]||(a[12]=e=>D(x)?x.value=e:null),style:{},class:"m-tabs",onTabChange:Ve},{default:m((()=>[f(s,{label:l.$t("walletManage"),name:0,lazy:""},{default:m((()=>[_(O).evmAddress?(u(),d(Ge,me({key:0},_(le),{isLarge:F.isLarge}),null,16,["isLarge"])):(u(),d(r,{key:1,style:I({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:m((()=>[y("span",Qe,k(l.$t("noBotWalletTip")),1),f(o,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>_(O).$patch({connectVisible:!0}))},{default:m((()=>[N(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))])),_:1},8,["label"]),f(s,{label:l.$t("monitored"),name:1,lazy:""},{default:m((()=>[_(O).evmAddress?(u(),b($,{key:0},[F.isLarge?c((u(),b("div",Ze,[f(S,{ref_key:"aveTableRef",ref:W,rowKey:"id",data:_(R),columns:_(Te),fixed:"",style:I({height:F.scrollHeight+"px"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Oe(e)}},{"header-wallet":m((()=>[y("span",null,k(l.$t("wallet")),1)])),"cell-wallet":m((({row:e})=>[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Be,onClick:l=>He(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"]))])),"header-type":m((()=>[y("span",null,k(l.$t("type")),1)])),"cell-type":m((({row:e})=>[f(i,{type:e._marker.isBuy?"success":"danger"},{default:m((()=>[N(k(Ee(e)),1)])),_:2},1032,["type"])])),"header-amount":m((()=>[y("span",null,k(l.$t("value")),1)])),"cell-amount":m((({row:e})=>{var l,a;return[y("span",{class:ae(Se(e)?"color-[--up-color]":"color-[--down-color]}")},k(_(M)?null==e?void 0:e._main_Token.total:(null==(l=null==e?void 0:e._main_Token)?void 0:l.amount)+(null==(a=null==e?void 0:e._main_Token)?void 0:a.symbol)),3)]})),"header-mc":m((()=>[y("span",null,k(_(M)?l.$t("price"):l.$t("mcap")),1)])),"cell-mc":m((({row:e})=>{var l;return[y("span",null,k(_(M)?null==(l=null==e?void 0:e._target_Token)?void 0:l.price:null==e?void 0:e._mc),1)]})),"header-time":m((()=>[y("span",null,k(l.$t("time")),1)])),"cell-time":m((({row:e})=>[c((u(),b("div",{class:"time",style:I({color:Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<=600?"#FFA622":"#12B886"})},[(null==e?void 0:e.created_at)||(null==e?void 0:e.time)?Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))>=60?(u(),b("span",Ye,k(("formatCountdown"in l?l.formatCountdown:_(he))(1e3*Number(null==e?void 0:e.created_at)||1e3*Number(null==e?void 0:e.time),!1)),1)):((null==e?void 0:e.created_at)||(null==e?void 0:e.time))&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<60?(u(),d(p,{key:`${e.created_at}`,timestamp:e.created_at,"end-time":60},{default:m((({seconds:a})=>[y("span",el,[a<60?(u(),b($,{key:0},[N(k(a)+"s ",1)],64)):(u(),b($,{key:1},[N(k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(e.created_at)),1)],64))])])),_:2},1032,["timestamp"])):q("",!0):(u(),b("span",Xe,"-"))],4)),[[L,("formatDate"in l?l.formatDate:_(fe))((null==e?void 0:e.created_at)||(null==e?void 0:e.time))]])])),"header-symbol":m((()=>[y("span",null,k(l.$t("token")),1)])),"cell-symbol":m((({row:e})=>{var l,a;return[f(j,{row:{logo_url:null==(l=null==e?void 0:e._target_Token)?void 0:l.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",null,k(null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol),1),"pump"==(null==e?void 0:e.amm)?(u(),b("img",ll)):q("",!0)]})),"header-operate":m((()=>a[13]||(a[13]=[y("span",null,null,-1)]))),"cell-operate":m((({row:e})=>{var l;return[f(B,{quickBuyValue:_(X),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(l=null==e?void 0:e._target_Token)?void 0:l.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]})),_:1},8,["data","columns","style","rowEventHandlers"])])),[[K,_(H)]]):c((u(),b("div",al,[f(S,{ref_key:"aveTableRef",ref:W,rowKey:"id",fixed:"",data:_(R),columns:_(Te),headerHeight:54,rowHeight:70,headerClass:"bg-transparent",style:I({height:F.scrollHeight+"px","--el-table-border":"1px solid #333"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>Oe(e)}},{"header-wallet":m((()=>[y("div",tl,[y("div",ol,[f(Je,{modelValue:_(w),"onUpdate:modelValue":a[1]||(a[1]=e=>D(w)?w.value=e:null),options:_(ee)},null,8,["modelValue","options"]),f(t,{name:_(A).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer text-16px color-[--secondary-text]",onClick:a[2]||(a[2]=e=>_(A).active="audio")},null,8,["name"]),f(i,{size:"small",class:"cursor-pointer w-55px",onClick:a[3]||(a[3]=e=>M.value=!_(M))},{default:m((()=>[N(k(_(M)?"C/MC":"U/Pri"),1),f(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})])),_:1})]),f(Ie,{modelValue:_(X),"onUpdate:modelValue":a[4]||(a[4]=e=>D(X)?X.value=e:null),size:"small"},null,8,["modelValue"])])])),"cell-wallet":m((({row:e})=>{var a,t,o,r,s,i;return[y("div",rl,[y("div",sl,[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)),onUpdateRemark:Be,onClick:l=>He(e,l)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"])),f(B,{quickBuyValue:_(X),row:{...e,target_token:null==e?void 0:e.target_address,token0_address:null==e?void 0:e.from_address,token1_address:null==e?void 0:e.to_address,symbol:null==(a=null==e?void 0:e._target_Token)?void 0:a.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]),y("div",nl,[y("div",il,[y("div",dl,k(Ee(e)),1),y("span",{class:ae(Se(e)?"color-[--up-color]":"color-[--down-color]")},k(_(M)?null==e?void 0:e._main_Token.total:(null==(t=null==e?void 0:e._main_Token)?void 0:t.amount)+(null==(o=null==e?void 0:e._main_Token)?void 0:o.symbol)),3),f(j,{row:{logo_url:null==(r=null==e?void 0:e._target_Token)?void 0:r.logo_url,chain:null==e?void 0:e.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",ul,k(null==(s=null==e?void 0:e._target_Token)?void 0:s.symbol),1),"pump"==(null==e?void 0:e.amm)?(u(),b("img",pl)):q("",!0),y("span",ml,k(_(M)?l.$t("price"):l.$t("mcap")),1),y("span",cl,k(_(M)?null==(i=null==e?void 0:e._target_Token)?void 0:i.price:null==e?void 0:e._mc),1)]),c((u(),b("div",{class:"time",style:I({color:Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<=600?"#FFA622":"#12B886"})},[(null==e?void 0:e.created_at)||(null==e?void 0:e.time)?Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))>=60?(u(),b("span",_l,k(("formatCountdown"in l?l.formatCountdown:_(he))(1e3*Number(null==e?void 0:e.created_at)||1e3*Number(null==e?void 0:e.time),!1)),1)):((null==e?void 0:e.created_at)||(null==e?void 0:e.time))&&Number(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))((null==e?void 0:e.created_at)||(null==e?void 0:e.time),!0))<60?(u(),d(p,{key:`${e.created_at}`,timestamp:e.created_at,"end-time":60},{default:m((({seconds:a})=>[y("span",hl,[a<60?(u(),b($,{key:0},[N(k(a)+"s ",1)],64)):(u(),b($,{key:1},[N(k(("formatTimeFromNow"in l?l.formatTimeFromNow:_(_e))(e.created_at)),1)],64))])])),_:2},1032,["timestamp"])):q("",!0):(u(),b("span",vl,"-"))],4)),[[L,("formatDate"in l?l.formatDate:_(fe))((null==e?void 0:e.created_at)||(null==e?void 0:e.time))]])])])]})),_:1},8,["data","columns","style","rowEventHandlers"])])),[[K,_(H)]])],64)):(u(),d(r,{key:1,style:I({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:m((()=>[y("span",gl,k(l.$t("noBotWalletTip")),1),f(o,{class:"mt-10px",onClick:a[5]||(a[5]=e=>_(O).$patch({connectVisible:!0}))},{default:m((()=>[N(k(l.$t("connectWallet")),1)])),_:1})])),_:1},8,["style"]))])),_:1},8,["label"]),f(s,{disabled:""},{label:m((()=>a[14]||(a[14]=[y("div",{class:"cursor-move w-100% h-100% drag-handle"},null,-1)]))),_:1}),f(s,{disabled:""},{label:m((()=>[y("div",fl,[1===_(x)&&F.isLarge?(u(),b($,{key:0},[f(Je,{modelValue:_(w),"onUpdate:modelValue":a[6]||(a[6]=e=>D(w)?w.value=e:null),options:_(ee)},null,8,["modelValue","options"]),f(t,{name:_(A).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer color-[--secondary-text]",onClick:a[7]||(a[7]=e=>_(A).active="audio")},null,8,["name"]),f(i,{size:"small",class:"cursor-pointer w-55px",onClick:a[8]||(a[8]=e=>M.value=!_(M))},{default:m((()=>[N(k(_(M)?"C/MC":"U/Pri"),1),f(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})])),_:1})],64)):q("",!0),1===_(x)&&_(O).evmAddress?(u(),d(o,{key:1,ref:e=>P.value=e,size:"small",style:{height:"20px"},class:"dialog-button",dark:_(z)},{default:m((()=>[f(t,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),N(" "+k(l.$t("addWallet")),1)])),_:1},8,["dark"])):q("",!0),1===_(x)&&e.isLarge?(u(),d(Ie,{key:2,modelValue:_(X),"onUpdate:modelValue":a[9]||(a[9]=e=>D(X)?X.value=e:null),size:"small"},null,8,["modelValue"])):q("",!0),f(t,{class:"text-14px color-[--secondary-text] hover:color-[--main-text] cursor-pointer",name:"custom:pump-setting",onClick:a[10]||(a[10]=g((e=>("navigateTo"in l?l.navigateTo:_(xe))("/follow/addr",{replace:!0})),["stop","prevent"]))}),f(t,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:a[11]||(a[11]=g((e=>h.value=!1),["self"]))})])])),_:1})])),_:1},8,["modelValue"]),_(P)?(u(),d(U,{key:0,ref_key:"addFavAddressPopRef",ref:J,buttonRef:_(P),onOnConfirm:Ce},null,8,["buttonRef"])):q("",!0)],2)}}}),[["__scopeId","data-v-18af3998"]]);export{xl as default};
